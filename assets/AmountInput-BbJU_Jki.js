import{_ as S}from"./index-mGnb0KKF.js";import{d as N}from"./vuetify-CbddcmEc.js";import{r as s,w,f as B,aV as A,Z as C}from"./@vue-Cr_z6yfx.js";const F=t=>t==null||t===""||t===0?"-":t.toLocaleString("en-US"),I={__name:"AmountInput",props:{modelValue:{type:[Number,String],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},hint:{type:String,default:""},persistentHint:{type:Boolean,default:!1},density:{type:String,default:"comfortable"},variant:{type:String,default:"outlined"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""},rules:{type:Array,default:()=>[]},clearable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:d}){const n=t,l=d,c=s(null),o=s(!1),a=s(n.modelValue?n.modelValue.toString():"");w(()=>n.modelValue,e=>{if(e==null){a.value="";return}const r=e.toString();r!==a.value&&(a.value=r)});const m=B(()=>a.value?f(a.value):""),f=e=>{const r=e.toString().replace(/[^\d]/g,"");return r?new Intl.NumberFormat("zh-TW",{maximumFractionDigits:0,useGrouping:!0}).format(Number(r)):""},p=e=>e.toString().replace(/[^\d]/g,""),y=()=>{o.value=!0},g=e=>{o.value=!1,i(e)},i=e=>{if(o.value)return;const r=e.target.value,u=p(r);a.value=u,l("update:modelValue",u?Number(u):"")},h=e=>{!["Backspace","Delete","ArrowLeft","ArrowRight","Tab","0","1","2","3","4","5","6","7","8","9"].includes(e.key)&&!e.ctrlKey&&!e.metaKey&&e.preventDefault()},b=()=>{if(a.value===""){l("update:modelValue","");return}const e=Number(a.value);isNaN(e)||(a.value=e.toString(),l("update:modelValue",e))},V=e=>{e.target.select()},v=e=>{(!e||e==="")&&(a.value="",l("update:modelValue",""))};return(e,r)=>(A(),C(N,{ref_key:"inputRef",ref:c,"model-value":m.value,rules:t.rules,label:t.label,placeholder:t.placeholder,hint:t.hint,"persistent-hint":t.persistentHint,density:t.density,variant:t.variant,error:t.error,"error-messages":t.errorMessages,clearable:t.clearable,class:"amount-input",onInput:i,onBlur:b,onFocus:V,onKeydown:h,onCompositionstart:y,onCompositionend:g,"onUpdate:modelValue":v},null,8,["model-value","rules","label","placeholder","hint","persistent-hint","density","variant","error","error-messages","clearable"]))}},D=S(I,[["__scopeId","data-v-07e5129b"]]);export{D as A,F as f};

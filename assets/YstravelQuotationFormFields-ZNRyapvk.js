import{U as q,w as o,v as b,d as u,g as U,ao as T,P as j,a1 as B}from"./vuetify-CbddcmEc.js";import{r as k,aV as f,Z as w,bH as t,b2 as z,a8 as l,a0 as p,a7 as x,$ as N,b0 as A,bf as E,_ as S,F as $}from"./@vue-Cr_z6yfx.js";import"./perfect-debounce-Cp2ysxOb.js";import"./hookable-B8xFkYCm.js";const H={class:"sub-title text-blue-grey-darken-2 d-flex justify-space-between"},L={class:"d-flex justify-space-between align-center mt-2",style:{height:"40px"}},O={class:"text-subtitle-2 text-grey-darken-1"},G={__name:"YstravelQuotationFormFields",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(d,{expose:P,emit:I}){const c=d,V=I,y=k(null),g=k(!1),s=(n,e)=>{const r={...c.modelValue};r[n]=e,V("update:modelValue",r)},v=(n,e,r)=>{const a=[...c.modelValue.items];a[n]={...a[n],[e]:r};const m={...c.modelValue,items:a};V("update:modelValue",m)},C=async()=>{var n;return await((n=y.value)==null?void 0:n.validate())},D=()=>{const n=[...c.modelValue.items];n.push({category:"",description:"",unitPrice:0,quantity:1,unit:"人",remark:""}),V("update:modelValue",{...c.modelValue,items:n})},F=n=>{const e=[...c.modelValue.items];e.splice(n,1),V("update:modelValue",{...c.modelValue,items:e})};return P({validate:C}),(n,e)=>{const r=z("v-date-input");return f(),w(q,{ref_key:"form",ref:y,modelValue:g.value,"onUpdate:modelValue":e[16]||(e[16]=a=>g.value=a)},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12",class:"pa-0"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[17]||(e[17]=[p("div",{class:"sub-title text-blue-grey-darken-2"}," 基本資訊 ",-1)])),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.quotationNumber,label:"報價單號",variant:"outlined",density:"compact",clearable:"",rules:[a=>!!a||"請輸入報價單號"],"onUpdate:modelValue":e[0]||(e[0]=a=>s("quotationNumber",a))},null,8,["model-value","rules"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(r,{"model-value":d.modelValue.date,label:"報價日期",variant:"outlined",density:"compact","prepend-icon":"",clearable:"","onUpdate:modelValue":e[1]||(e[1]=a=>s("date",a))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"pa-0 mt-4"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[18]||(e[18]=[p("div",{class:"sub-title text-blue-grey-darken-2"}," 客戶資訊 ",-1)])),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.customerName,label:"公司名稱",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[2]||(e[2]=a=>s("customerName",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.customerAddress,label:"公司地址",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[3]||(e[3]=a=>s("customerAddress",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.customerTaxId,label:"統一編號",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[4]||(e[4]=a=>s("customerTaxId",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.contactPerson,label:"聯絡人",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[5]||(e[5]=a=>s("contactPerson",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.position,label:"職稱",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[6]||(e[6]=a=>s("position",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.officePhone,label:"公司電話",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[7]||(e[7]=a=>s("officePhone",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.fax,label:"傳真",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[8]||(e[8]=a=>s("fax",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.mobile,label:"手機",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[9]||(e[9]=a=>s("mobile",a))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"pa-0 mt-4"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[19]||(e[19]=[p("div",{class:"sub-title text-blue-grey-darken-2"}," 旅遊資訊 ",-1)])),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.projectName,label:"行程名稱",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[10]||(e[10]=a=>s("projectName",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.destination,label:"目的地",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[11]||(e[11]=a=>s("destination",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(r,{"model-value":d.modelValue.departureDate,label:"出發日期",variant:"outlined",density:"compact","prepend-icon":"",clearable:"",rules:[a=>!!a||"請選擇出發日期"],"onUpdate:modelValue":e[12]||(e[12]=a=>s("departureDate",a?new Date(a):null))},null,8,["model-value","rules"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(r,{"model-value":d.modelValue.returnDate,label:"回程日期",variant:"outlined",density:"compact","prepend-icon":"",clearable:"",rules:[a=>!!a||"請選擇回程日期"],"onUpdate:modelValue":e[13]||(e[13]=a=>s("returnDate",a?new Date(a):null))},null,8,["model-value","rules"])]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"px-0"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[p("div",H,[e[21]||(e[21]=x(" 報價明細 ")),l(U,{color:"blue-grey-darken-2",variant:"outlined","prepend-icon":"mdi-plus",size:"small",onClick:D},{default:t(()=>e[20]||(e[20]=[x(" 新增項目 ")])),_:1})])]),_:1}),l(o,{cols:"12"},{default:t(()=>[l(T,{group:""},{default:t(()=>[(f(!0),N($,null,A(d.modelValue.items,(a,m)=>(f(),N("div",{key:m,class:"mb-4 px-3 border rounded-lg"},[l(b,null,{default:t(()=>[l(o,{cols:"12",class:"pb-0"},{default:t(()=>[p("div",L,[p("span",O,"項目 "+E(m+1),1),m>0?(f(),w(U,{key:0,icon:"mdi-close",color:"red-darken-1",size:"small",variant:"plain",onClick:i=>F(m)},null,8,["onClick"])):S("",!0)])]),_:2},1024),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(j,{"model-value":a.category,items:["機票","住宿","餐飲","交通","門票","保險","其他"],label:"費用類別",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"category",i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":a.description,label:"說明",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"description",i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(o,{cols:"12",lg:"3",class:"pb-0"},{default:t(()=>[l(u,{"model-value":a.unitPrice,label:"單價",type:"number",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"unitPrice",Number(i))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(o,{cols:"12",lg:"3",class:"pb-0"},{default:t(()=>[l(u,{"model-value":a.quantity,label:"數量",type:"number",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"quantity",Number(i))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(o,{cols:"12",lg:"3",class:"pb-0"},{default:t(()=>[l(u,{"model-value":a.unit,label:"單位",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"unit",i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(o,{cols:"12",lg:"3",class:"pb-0"},{default:t(()=>[l(u,{"model-value":a.remark,label:"備註",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":i=>v(m,"remark",i)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),l(o,{cols:"12",class:"pa-0 mt-4"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[22]||(e[22]=[p("div",{class:"sub-title text-blue-grey-darken-2"}," 備註資訊 ",-1)])),_:1}),l(o,{cols:"12",class:"pb-0"},{default:t(()=>[l(B,{"model-value":d.modelValue.cancellationPolicy,label:"取消政策",variant:"outlined",density:"compact",class:"mb-1",clearable:"","auto-grow":"",rows:"3","onUpdate:modelValue":e[14]||(e[14]=a=>s("cancellationPolicy",a))},null,8,["model-value"])]),_:1}),l(o,{cols:"12",lg:"6",class:"pb-0"},{default:t(()=>[l(u,{"model-value":d.modelValue.validityPeriod,label:"報價有效期（天）",type:"number",variant:"outlined",density:"compact",class:"mb-1",clearable:"","onUpdate:modelValue":e[15]||(e[15]=a=>s("validityPeriod",parseInt(a)))},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{G as default};

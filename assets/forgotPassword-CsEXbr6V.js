import{aV as x,$ as _,a8 as t,bH as o,b2 as v,u as a,bM as w,a7 as i,a0 as V}from"./@vue-Cr_z6yfx.js";import{u as k}from"./vue-router-BFBClpR6.js";import{u as y,a as S}from"./vee-validate-BXV9nMa7.js";import{b as h,c as P}from"./yup-WHNMwcW8.js";import{_ as B,u as C}from"./index-n6mFz3XI.js";import{i as F}from"./vuetify-use-dialog-C5oZ13xz.js";import{Q as E,U as M,v as N,w as r,d as U,g as $}from"./vuetify-CbddcmEc.js";import"./perfect-debounce-Cp2ysxOb.js";import"./hookable-B8xFkYCm.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-DzadwsAs.js";import"./core-js-D2hAHviU.js";/* empty css             */import"./pinia-DBRIaiZ_.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./jspdf-DsdNZwtm.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./unplugin-vue-router-B1N3mqWX.js";import"./axios-upsvKRUO.js";import"./vue3-google-login-Dx7TV_Hx.js";import"./vue-easy-lightbox-D952uME8.js";const R={id:"background",class:"d-flex justify-center align-center"},T={__name:"forgotPassword",setup(j){const d=k(),p=C(),l=F(),u=h({email:P().required("請輸入email").email("請輸入正確email格式")}),{handleSubmit:c,isSubmitting:m}=y({validationSchema:u}),s=S("email"),f=c(async n=>{try{const e=await p.forgotPassword(n.email);l({text:e.message,snackbarProps:{color:"teal-lighten-1"}}),d.push("/login")}catch(e){l({text:e.message,snackbarProps:{color:"red-lighten-1"}})}});return(n,e)=>{const g=v("router-link");return x(),_("div",R,[t(E,{class:"forgot-password-wrapper pa-0",style:{"max-width":"360px"}},{default:o(()=>[t(M,{disabled:a(m),onSubmit:w(a(f),["prevent"])},{default:o(()=>[t(N,{class:"px-4 ma-0"},{default:o(()=>[t(r,{cols:"12",class:"text-center mt-4 font-weight-bold"},{default:o(()=>e[1]||(e[1]=[i(" 忘記密碼 ")])),_:1}),t(r,{cols:"12"},{default:o(()=>[e[2]||(e[2]=V("div",{class:"text-body-2 text-medium-emphasis my-4"}," 請輸入您的 Email ，將寄送密碼重置連結給您。 ",-1)),t(U,{modelValue:a(s).value.value,"onUpdate:modelValue":e[0]||(e[0]=b=>a(s).value.value=b),"error-messages":a(s).errorMessage.value,label:"Email",density:"compact",variant:"underlined",clearable:""},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12"},{default:o(()=>[t($,{block:"",elevation:"2",color:"orange-darken-2",type:"submit",loading:a(m)},{default:o(()=>e[3]||(e[3]=[i(" 發送重置郵件 ")])),_:1},8,["loading"])]),_:1}),t(r,{cols:"12",class:"text-center pb-2"},{default:o(()=>[t(g,{class:"text-grey-darken-1",style:{"font-size":"15px","font-weight":"500"},to:"/login"},{default:o(()=>e[4]||(e[4]=[i(" 返回登入 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","onSubmit"])]),_:1})])}}},me=B(T,[["__scopeId","data-v-a9f09443"]]);export{me as default};

import{f as U,r as C,k as zl,w as Ll,aS as Tl,aV as z,Z as R,bH as o,a8 as s,a0 as r,bf as w,aH as ce,aJ as Il,$ as P,bM as $e,a7 as x,_ as B,F as Ce,aG as We,b0 as Fe,u as T}from"./@vue-Cr_z6yfx.js";import{u as Vl}from"./vue-router-BFBClpR6.js";import{i as Al}from"./vuetify-use-dialog-C5oZ13xz.js";import{_ as Dl,b as Ml}from"./index-n6mFz3XI.js";import{q as $l,w as O,v as de,a as G,c as K,t as Pe,g as j,r as N,K as Wl,L as Fl,M as Pl,N as Rl,b as Ne,f as X,F as J,O as Re,d as je,J as jl,D as El,x as Ul,y as Bl,E as Ol,P as Ee,e as Gl,V as Hl,Q as Kl}from"./vuetify-CbddcmEc.js";import"./perfect-debounce-Cp2ysxOb.js";import"./hookable-B8xFkYCm.js";/* empty css             */import"./pinia-DBRIaiZ_.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./jspdf-DsdNZwtm.js";import"./core-js-D2hAHviU.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./unplugin-vue-router-B1N3mqWX.js";import"./axios-upsvKRUO.js";import"./vue3-google-login-Dx7TV_Hx.js";import"./vue-easy-lightbox-D952uME8.js";const Jl=[{label:"臺北市",value:"臺北市"},{label:"新北市",value:"新北市"},{label:"桃園市",value:"桃園市"},{label:"臺中市",value:"臺中市"},{label:"臺南市",value:"臺南市"},{label:"高雄市",value:"高雄市"},{label:"基隆市",value:"基隆市"},{label:"新竹市",value:"新竹市"},{label:"新竹縣",value:"新竹縣"},{label:"苗栗縣",value:"苗栗縣"},{label:"彰化縣",value:"彰化縣"},{label:"南投縣",value:"南投縣"},{label:"雲林縣",value:"雲林縣"},{label:"嘉義市",value:"嘉義市"},{label:"嘉義縣",value:"嘉義縣"},{label:"屏東縣",value:"屏東縣"},{label:"宜蘭縣",value:"宜蘭縣"},{label:"花蓮縣",value:"花蓮縣"},{label:"臺東縣",value:"臺東縣"},{label:"澎湖縣",value:"澎湖縣"},{label:"金門縣",value:"金門縣"},{label:"連江縣",value:"連江縣"}],ql={臺北市:[{label:"中正區",value:"中正區"},{label:"大同區",value:"大同區"},{label:"中山區",value:"中山區"},{label:"松山區",value:"松山區"},{label:"大安區",value:"大安區"},{label:"萬華區",value:"萬華區"},{label:"信義區",value:"信義區"},{label:"士林區",value:"士林區"},{label:"北投區",value:"北投區"},{label:"內湖區",value:"內湖區"},{label:"南港區",value:"南港區"},{label:"文山區",value:"文山區"}],新北市:[{label:"板橋區",value:"板橋區"},{label:"三重區",value:"三重區"},{label:"中和區",value:"中和區"},{label:"永和區",value:"永和區"},{label:"新莊區",value:"新莊區"},{label:"新店區",value:"新店區"},{label:"樹林區",value:"樹林區"},{label:"鶯歌區",value:"鶯歌區"},{label:"三峽區",value:"三峽區"},{label:"淡水區",value:"淡水區"},{label:"汐止區",value:"汐止區"},{label:"瑞芳區",value:"瑞芳區"},{label:"土城區",value:"土城區"},{label:"蘆洲區",value:"蘆洲區"},{label:"五股區",value:"五股區"},{label:"泰山區",value:"泰山區"},{label:"林口區",value:"林口區"},{label:"深坑區",value:"深坑區"},{label:"石碇區",value:"石碇區"},{label:"坪林區",value:"坪林區"},{label:"三芝區",value:"三芝區"},{label:"石門區",value:"石門區"},{label:"八里區",value:"八里區"},{label:"平溪區",value:"平溪區"},{label:"雙溪區",value:"雙溪區"},{label:"貢寮區",value:"貢寮區"},{label:"金山區",value:"金山區"},{label:"萬里區",value:"萬里區"},{label:"烏來區",value:"烏來區"}],桃園市:[{label:"桃園區",value:"桃園區"},{label:"中壢區",value:"中壢區"},{label:"大溪區",value:"大溪區"},{label:"楊梅區",value:"楊梅區"},{label:"蘆竹區",value:"蘆竹區"},{label:"大園區",value:"大園區"},{label:"龜山區",value:"龜山區"},{label:"八德區",value:"八德區"},{label:"龍潭區",value:"龍潭區"},{label:"平鎮區",value:"平鎮區"},{label:"新屋區",value:"新屋區"},{label:"觀音區",value:"觀音區"},{label:"復興區",value:"復興區"}],臺中市:[{label:"中區",value:"中區"},{label:"東區",value:"東區"},{label:"南區",value:"南區"},{label:"西區",value:"西區"},{label:"北區",value:"北區"},{label:"西屯區",value:"西屯區"},{label:"南屯區",value:"南屯區"},{label:"北屯區",value:"北屯區"},{label:"豐原區",value:"豐原區"},{label:"東勢區",value:"東勢區"},{label:"大甲區",value:"大甲區"},{label:"清水區",value:"清水區"},{label:"沙鹿區",value:"沙鹿區"},{label:"梧棲區",value:"梧棲區"},{label:"后里區",value:"后里區"},{label:"神岡區",value:"神岡區"},{label:"潭子區",value:"潭子區"},{label:"大雅區",value:"大雅區"},{label:"新社區",value:"新社區"},{label:"石岡區",value:"石岡區"},{label:"外埔區",value:"外埔區"},{label:"大安區",value:"大安區"},{label:"烏日區",value:"烏日區"},{label:"大肚區",value:"大肚區"},{label:"龍井區",value:"龍井區"},{label:"霧峰區",value:"霧峰區"},{label:"太平區",value:"太平區"},{label:"大里區",value:"大里區"},{label:"和平區",value:"和平區"}],臺南市:[{label:"中西區",value:"中西區"},{label:"東區",value:"東區"},{label:"南區",value:"南區"},{label:"北區",value:"北區"},{label:"安平區",value:"安平區"},{label:"安南區",value:"安南區"},{label:"永康區",value:"永康區"},{label:"歸仁區",value:"歸仁區"},{label:"新化區",value:"新化區"},{label:"左鎮區",value:"左鎮區"},{label:"玉井區",value:"玉井區"},{label:"楠西區",value:"楠西區"},{label:"南化區",value:"南化區"},{label:"仁德區",value:"仁德區"},{label:"關廟區",value:"關廟區"},{label:"龍崎區",value:"龍崎區"},{label:"官田區",value:"官田區"},{label:"麻豆區",value:"麻豆區"},{label:"佳里區",value:"佳里區"},{label:"西港區",value:"西港區"},{label:"七股區",value:"七股區"},{label:"將軍區",value:"將軍區"},{label:"學甲區",value:"學甲區"},{label:"北門區",value:"北門區"},{label:"新營區",value:"新營區"},{label:"後壁區",value:"後壁區"},{label:"白河區",value:"白河區"},{label:"東山區",value:"東山區"},{label:"六甲區",value:"六甲區"},{label:"下營區",value:"下營區"},{label:"柳營區",value:"柳營區"},{label:"鹽水區",value:"鹽水區"},{label:"善化區",value:"善化區"},{label:"大內區",value:"大內區"},{label:"山上區",value:"山上區"},{label:"新市區",value:"新市區"},{label:"安定區",value:"安定區"}],高雄市:[{label:"新興區",value:"新興區"},{label:"前金區",value:"前金區"},{label:"苓雅區",value:"苓雅區"},{label:"鹽埕區",value:"鹽埕區"},{label:"鼓山區",value:"鼓山區"},{label:"旗津區",value:"旗津區"},{label:"前鎮區",value:"前鎮區"},{label:"三民區",value:"三民區"},{label:"左營區",value:"左營區"},{label:"楠梓區",value:"楠梓區"},{label:"小港區",value:"小港區"},{label:"鳳山區",value:"鳳山區"},{label:"林園區",value:"林園區"},{label:"大寮區",value:"大寮區"},{label:"大樹區",value:"大樹區"},{label:"大社區",value:"大社區"},{label:"仁武區",value:"仁武區"},{label:"鳥松區",value:"鳥松區"},{label:"岡山區",value:"岡山區"},{label:"橋頭區",value:"橋頭區"},{label:"燕巢區",value:"燕巢區"},{label:"田寮區",value:"田寮區"},{label:"阿蓮區",value:"阿蓮區"},{label:"路竹區",value:"路竹區"},{label:"湖內區",value:"湖內區"},{label:"茄萣區",value:"茄萣區"},{label:"永安區",value:"永安區"},{label:"彌陀區",value:"彌陀區"},{label:"梓官區",value:"梓官區"},{label:"旗山區",value:"旗山區"},{label:"美濃區",value:"美濃區"},{label:"六龜區",value:"六龜區"},{label:"甲仙區",value:"甲仙區"},{label:"杉林區",value:"杉林區"},{label:"內門區",value:"內門區"},{label:"茂林區",value:"茂林區"},{label:"桃源區",value:"桃源區"},{label:"那瑪夏區",value:"那瑪夏區"}],基隆市:[{label:"仁愛區",value:"仁愛區"},{label:"信義區",value:"信義區"},{label:"中正區",value:"中正區"},{label:"中山區",value:"中山區"},{label:"安樂區",value:"安樂區"},{label:"暖暖區",value:"暖暖區"},{label:"七堵區",value:"七堵區"}],新竹市:[{label:"東區",value:"東區"},{label:"北區",value:"北區"},{label:"香山區",value:"香山區"}],新竹縣:[{label:"竹北市",value:"竹北市"},{label:"湖口鄉",value:"湖口鄉"},{label:"新豐鄉",value:"新豐鄉"},{label:"新埔鎮",value:"新埔鎮"},{label:"關西鎮",value:"關西鎮"},{label:"芎林鄉",value:"芎林鄉"},{label:"寶山鄉",value:"寶山鄉"},{label:"竹東鎮",value:"竹東鎮"},{label:"五峰鄉",value:"五峰鄉"},{label:"橫山鄉",value:"橫山鄉"},{label:"尖石鄉",value:"尖石鄉"},{label:"北埔鄉",value:"北埔鄉"},{label:"峨眉鄉",value:"峨眉鄉"}],苗栗縣:[{label:"竹南鎮",value:"竹南鎮"},{label:"頭份市",value:"頭份市"},{label:"三灣鄉",value:"三灣鄉"},{label:"南庄鄉",value:"南庄鄉"},{label:"獅潭鄉",value:"獅潭鄉"},{label:"後龍鎮",value:"後龍鎮"},{label:"通霄鎮",value:"通霄鎮"},{label:"苑裡鎮",value:"苑裡鎮"},{label:"苗栗市",value:"苗栗市"},{label:"造橋鄉",value:"造橋鄉"},{label:"頭屋鄉",value:"頭屋鄉"},{label:"公館鄉",value:"公館鄉"},{label:"大湖鄉",value:"大湖鄉"},{label:"泰安鄉",value:"泰安鄉"},{label:"銅鑼鄉",value:"銅鑼鄉"},{label:"三義鄉",value:"三義鄉"},{label:"西湖鄉",value:"西湖鄉"},{label:"卓蘭鎮",value:"卓蘭鎮"}],彰化縣:[{label:"彰化市",value:"彰化市"},{label:"芬園鄉",value:"芬園鄉"},{label:"花壇鄉",value:"花壇鄉"},{label:"秀水鄉",value:"秀水鄉"},{label:"鹿港鎮",value:"鹿港鎮"},{label:"福興鄉",value:"福興鄉"},{label:"線西鄉",value:"線西鄉"},{label:"和美鎮",value:"和美鎮"},{label:"伸港鄉",value:"伸港鄉"},{label:"員林市",value:"員林市"},{label:"社頭鄉",value:"社頭鄉"},{label:"永靖鄉",value:"永靖鄉"},{label:"埔心鄉",value:"埔心鄉"},{label:"溪湖鎮",value:"溪湖鎮"},{label:"大村鄉",value:"大村鄉"},{label:"埔鹽鄉",value:"埔鹽鄉"},{label:"田中鎮",value:"田中鎮"},{label:"北斗鎮",value:"北斗鎮"},{label:"田尾鄉",value:"田尾鄉"},{label:"埤頭鄉",value:"埤頭鄉"},{label:"溪州鄉",value:"溪州鄉"},{label:"竹塘鄉",value:"竹塘鄉"},{label:"二林鎮",value:"二林鎮"},{label:"大城鄉",value:"大城鄉"},{label:"芳苑鄉",value:"芳苑鄉"},{label:"二水鄉",value:"二水鄉"}],南投縣:[{label:"南投市",value:"南投市"},{label:"中寮鄉",value:"中寮鄉"},{label:"草屯鎮",value:"草屯鎮"},{label:"國姓鄉",value:"國姓鄉"},{label:"埔里鎮",value:"埔里鎮"},{label:"仁愛鄉",value:"仁愛鄉"},{label:"名間鄉",value:"名間鄉"},{label:"集集鎮",value:"集集鎮"},{label:"水里鄉",value:"水里鄉"},{label:"魚池鄉",value:"魚池鄉"},{label:"信義鄉",value:"信義鄉"},{label:"竹山鎮",value:"竹山鎮"},{label:"鹿谷鄉",value:"鹿谷鄉"}],雲林縣:[{label:"斗南鎮",value:"斗南鎮"},{label:"大埤鄉",value:"大埤鄉"},{label:"虎尾鎮",value:"虎尾鎮"},{label:"土庫鎮",value:"土庫鎮"},{label:"褒忠鄉",value:"褒忠鄉"},{label:"東勢鄉",value:"東勢鄉"},{label:"臺西鄉",value:"臺西鄉"},{label:"崙背鄉",value:"崙背鄉"},{label:"麥寮鄉",value:"麥寮鄉"},{label:"斗六市",value:"斗六市"},{label:"林內鄉",value:"林內鄉"},{label:"古坑鄉",value:"古坑鄉"},{label:"莿桐鄉",value:"莿桐鄉"},{label:"西螺鎮",value:"西螺鎮"},{label:"二崙鄉",value:"二崙鄉"},{label:"北港鎮",value:"北港鎮"},{label:"水林鄉",value:"水林鄉"},{label:"口湖鄉",value:"口湖鄉"},{label:"四湖鄉",value:"四湖鄉"},{label:"元長鄉",value:"元長鄉"}],嘉義市:[{label:"東區",value:"東區"},{label:"西區",value:"西區"}],嘉義縣:[{label:"番路鄉",value:"番路鄉"},{label:"梅山鄉",value:"梅山鄉"},{label:"竹崎鄉",value:"竹崎鄉"},{label:"阿里山鄉",value:"阿里山鄉"},{label:"中埔鄉",value:"中埔鄉"},{label:"大埔鄉",value:"大埔鄉"},{label:"水上鄉",value:"水上鄉"},{label:"鹿草鄉",value:"鹿草鄉"},{label:"太保市",value:"太保市"},{label:"朴子市",value:"朴子市"},{label:"東石鄉",value:"東石鄉"},{label:"六腳鄉",value:"六腳鄉"},{label:"新港鄉",value:"新港鄉"},{label:"民雄鄉",value:"民雄鄉"},{label:"大林鎮",value:"大林鎮"},{label:"溪口鄉",value:"溪口鄉"},{label:"義竹鄉",value:"義竹鄉"},{label:"布袋鎮",value:"布袋鎮"}],屏東縣:[{label:"屏東市",value:"屏東市"},{label:"三地門鄉",value:"三地門鄉"},{label:"霧臺鄉",value:"霧臺鄉"},{label:"瑪家鄉",value:"瑪家鄉"},{label:"九如鄉",value:"九如鄉"},{label:"里港鄉",value:"里港鄉"},{label:"高樹鄉",value:"高樹鄉"},{label:"鹽埔鄉",value:"鹽埔鄉"},{label:"長治鄉",value:"長治鄉"},{label:"麟洛鄉",value:"麟洛鄉"},{label:"竹田鄉",value:"竹田鄉"},{label:"內埔鄉",value:"內埔鄉"},{label:"萬丹鄉",value:"萬丹鄉"},{label:"潮州鎮",value:"潮州鎮"},{label:"泰武鄉",value:"泰武鄉"},{label:"來義鄉",value:"來義鄉"},{label:"萬巒鄉",value:"萬巒鄉"},{label:"崁頂鄉",value:"崁頂鄉"},{label:"新埤鄉",value:"新埤鄉"},{label:"南州鄉",value:"南州鄉"},{label:"林邊鄉",value:"林邊鄉"},{label:"東港鎮",value:"東港鎮"},{label:"琉球鄉",value:"琉球鄉"},{label:"佳冬鄉",value:"佳冬鄉"},{label:"新園鄉",value:"新園鄉"},{label:"枋寮鄉",value:"枋寮鄉"},{label:"枋山鄉",value:"枋山鄉"},{label:"春日鄉",value:"春日鄉"},{label:"獅子鄉",value:"獅子鄉"},{label:"車城鄉",value:"車城鄉"},{label:"牡丹鄉",value:"牡丹鄉"},{label:"恆春鎮",value:"恆春鎮"},{label:"滿州鄉",value:"滿州鄉"}],宜蘭縣:[{label:"宜蘭市",value:"宜蘭市"},{label:"頭城鎮",value:"頭城鎮"},{label:"礁溪鄉",value:"礁溪鄉"},{label:"壯圍鄉",value:"壯圍鄉"},{label:"員山鄉",value:"員山鄉"},{label:"羅東鎮",value:"羅東鎮"},{label:"三星鄉",value:"三星鄉"},{label:"大同鄉",value:"大同鄉"},{label:"五結鄉",value:"五結鄉"},{label:"冬山鄉",value:"冬山鄉"},{label:"蘇澳鎮",value:"蘇澳鎮"},{label:"南澳鄉",value:"南澳鄉"}],花蓮縣:[{label:"花蓮市",value:"花蓮市"},{label:"新城鄉",value:"新城鄉"},{label:"太魯閣",value:"太魯閣"},{label:"秀林鄉",value:"秀林鄉"},{label:"吉安鄉",value:"吉安鄉"},{label:"壽豐鄉",value:"壽豐鄉"},{label:"鳳林鎮",value:"鳳林鎮"},{label:"光復鄉",value:"光復鄉"},{label:"豐濱鄉",value:"豐濱鄉"},{label:"瑞穗鄉",value:"瑞穗鄉"},{label:"玉里鎮",value:"玉里鎮"},{label:"卓溪鄉",value:"卓溪鄉"},{label:"富里鄉",value:"富里鄉"}],臺東縣:[{label:"臺東市",value:"臺東市"},{label:"綠島鄉",value:"綠島鄉"},{label:"蘭嶼鄉",value:"蘭嶼鄉"},{label:"延平鄉",value:"延平鄉"},{label:"卑南鄉",value:"卑南鄉"},{label:"鹿野鄉",value:"鹿野鄉"},{label:"關山鎮",value:"關山鎮"},{label:"海端鄉",value:"海端鄉"},{label:"池上鄉",value:"池上鄉"},{label:"東河鄉",value:"東河鄉"},{label:"成功鎮",value:"成功鎮"},{label:"長濱鄉",value:"長濱鄉"},{label:"太麻里鄉",value:"太麻里鄉"},{label:"金峰鄉",value:"金峰鄉"},{label:"大武鄉",value:"大武鄉"},{label:"達仁鄉",value:"達仁鄉"}],澎湖縣:[{label:"馬公市",value:"馬公市"},{label:"西嶼鄉",value:"西嶼鄉"},{label:"望安鄉",value:"望安鄉"},{label:"七美鄉",value:"七美鄉"},{label:"白沙鄉",value:"白沙鄉"},{label:"湖西鄉",value:"湖西鄉"}],金門縣:[{label:"金城鎮",value:"金城鎮"},{label:"金湖鎮",value:"金湖鎮"},{label:"金沙鎮",value:"金沙鎮"},{label:"金寧鄉",value:"金寧鄉"},{label:"烈嶼鄉",value:"烈嶼鄉"},{label:"烏坵鄉",value:"烏坵鄉"}],連江縣:[{label:"南竿鄉",value:"南竿鄉"},{label:"北竿鄉",value:"北竿鄉"},{label:"莒光鄉",value:"莒光鄉"},{label:"東引鄉",value:"東引鄉"}]},Ue=Se=>ql[Se]||[],Zl={class:"time-display"},Yl={class:"date-display text-grey-darken-2"},Ql={class:"temperature-display mb-1"},Xl={class:"location-display ps-6 d-flex align-center justify-center"},ea={class:"weather-description mb-2"},la={class:"weather-details"},aa={class:"d-flex align-center mb-1"},ta={class:"humidity-display"},sa={class:"d-flex align-center mb-1"},oa={class:"feels-like"},na={class:"d-flex align-center"},ia={class:"precipitation-probability"},ra=["onClick"],ua={class:"text-center"},ca={class:"news-item-title"},da={key:0},va={class:"d-flex align-center justify-center"},ba={class:"sub-title-2"},ma={class:"news-item-time"},pa={class:"d-flex align-center justify-center"},fa={class:"sub-title-2"},ya={key:1},ha={class:"d-flex align-center justify-center"},ga={class:"sub-title-2"},wa={key:0,class:"text-center pt-2 pb-2"},xa={key:0,class:"text-center py-4"},_a={class:"sub-title-1"},ka={class:"ms-2 sub-title-2 ext-job-title"},Ca={key:0,class:"text-center py-4 text-grey"},Na={class:"d-flex align-center justify-center"},Sa={class:"shared-resource-item-title"},za={key:0},La={class:"d-flex align-center justify-center"},Ta={class:"sub-title-2"},Ia={class:"d-flex align-center justify-center"},Va={class:"text-center text-grey pt-4 pb-4"},Aa={class:"card-title px-6 py-3 bg-blue-grey-darken-2 d-flex align-center"},Da={key:1,class:"saved-location-info mt-3"},Ma={class:"saved-location-card d-flex align-center justify-space-between px-3 py-1 rounded"},$a={class:"d-flex align-center flex-grow-1"},Wa={class:"flex-grow-1"},Fa={class:"text-body-2 font-weight-medium text-grey-darken-2"},Be="https://opendata.cwa.gov.tw/api/v1/rest/datastore",Oe="CWA-75827C23-971A-4752-A41C-30CFB98F9FB1",Pa=24*60*60*1e3,Ra={__name:"index",setup(Se){const{mdAndUp:ve,smAndUp:L,lgAndUp:Ge}=$l(),ee=U(()=>ve.value?"default":"small"),He=U(()=>Ge.value?"360px":L.value?"240px":"200px"),Ke=Vl(),E=Al(),{apiAuth:q}=Ml(),ze=C(""),Le=C(""),Te=C("");let be=null;const $=C({temperature:0,condition:"sunny",humidity:0,feelsLike:0,precipitationProbability:0,location:"台北市",description:"",pressure:0,visibility:0}),Z=C(!1),le=C(""),ae=C(!1),I=C(null),A=C(null),H=C(null),Je=[l=>!!l||"請選擇城市"],qe=[l=>!!l||"請選擇區域"],Ze=U(()=>I.value?Ue(I.value):[]),Ye=U(()=>[{title:"類型",key:"type",sortable:!1,align:"center",width:"140px"},{title:"標題",key:"title",sortable:!1,align:"center"},{title:"發布人",key:"creator",sortable:!1,align:"center",minWidth:"80px",width:"80px"},{title:"發布時間",key:"createdAt",sortable:!1,align:"center",width:"200px"},{title:"瀏覽",key:"viewCount",sortable:!1,align:"center",minWidth:"85px",width:"100px"}].filter(e=>!(e.key==="creator"&&!ve.value||e.key==="viewCount"&&!L.value))),Qe=U(()=>[{title:"類型",key:"type",sortable:!1,align:"center"},{title:"檔案名稱",key:"name",sortable:!1,align:"center"},{title:"大小",key:"size",sortable:!1,align:"center",width:"100px"},{title:"操作",key:"action",sortable:!1,align:"center",width:"80px"}].filter(e=>!(e.key==="size"&&!L.value))),Xe=l=>{try{switch(l){case"sunny":case"clear":return new URL("/assets/sunny-DUfZb77r.jpg",import.meta.url).href;case"cloudy":case"clouds":return new URL("/assets/cloudy-FarEn3Fi.jpg",import.meta.url).href;case"rainy":case"rain":return new URL("/assets/rainy-IdGegSpE.jpg",import.meta.url).href;case"snowy":case"snow":return new URL("/assets/snowy-Dy1VcyCw.jpg",import.meta.url).href;case"stormy":case"thunderstorm":return new URL("/assets/stormy-DDCDoeO5.jpg",import.meta.url).href;case"foggy":case"mist":return new URL("/assets/foggy-0CFTKCCg.jpg",import.meta.url).href;default:return new URL("/assets/rainy-IdGegSpE.jpg",import.meta.url).href}}catch(e){return console.error("載入天氣背景圖片失敗:",e),new URL("/assets/rainy-IdGegSpE.jpg",import.meta.url).href}},el=U(()=>Xe($.value.condition)),Ie=C(0),me=C([]),pe=C(!1),te=C([]),se=C(!1),oe=C([]),fe=C(!1),ne=C(""),ye=U(()=>{if(!ne.value)return oe.value;const l=ne.value.toLowerCase();return oe.value.filter(e=>{var a;return e.name.toLowerCase().includes(l)||e.extNumber.includes(l)||((a=e.jobTitle)==null?void 0:a.toLowerCase().includes(l))})}),ie=C([]),he=C(!1),Y=C(""),Ve=U(()=>{if(!Y.value)return ie.value;const l=Y.value.toLowerCase();return ie.value.filter(e=>{var a;return e.name.toLowerCase().includes(l)||((a=e.description)==null?void 0:a.toLowerCase().includes(l))})}),Ae=()=>{const l=new Date,e=l.getHours().toString().padStart(2,"0"),a=l.getMinutes().toString().padStart(2,"0");ze.value=`${e}:${a}`;const t=l.getFullYear(),v=(l.getMonth()+1).toString().padStart(2,"0"),i=l.getDate().toString().padStart(2,"0");Le.value=`${t}/${v}/${i}`;const n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];Te.value=n[l.getDay()]},ll=l=>{l.link&&window.open(l.link,"_blank")},al=async l=>{var e,a,t,v,i,n;try{E({text:`正在下載 ${l.name}...`,snackbarProps:{color:"blue-lighten-1"}});const b=await q.get(`/sharedResources/${l.url}/download`,{responseType:"blob"}),m=((e=b.headers)==null?void 0:e["content-disposition"])||((a=b.headers)==null?void 0:a["Content-Disposition"]),f=((t=b.headers)==null?void 0:t["content-type"])||((v=b.headers)==null?void 0:v["Content-Type"])||l.mimetype||"application/octet-stream",h=l.fileOriginalName||l.name||"download";let d=h;if(typeof m=="string"){const _=/filename\*=UTF-8''([^;]+)/i.exec(m),g=/filename="?([^";]+)"?/i.exec(m);if(_&&_[1])try{d=decodeURIComponent(_[1])}catch{d=_[1]}else g&&g[1]&&(d=g[1])}if(d&&d.includes("+")&&!d.includes("%2B")&&(d=d.replace(/\+/g," ")),d=String(d).replace(/[\\/:*?"<>|]/g," ").replace(/\s+/g," ").trim(),(!d||d.replace(/[_\s]/g,"")==="")&&(d=h),!/\.[A-Za-z0-9]{2,5}$/.test(d)){let g={"application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/vnd.ms-powerpoint":".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":".pptx"}[f];!g&&(f!=null&&f.startsWith("image/"))&&(g=`.${f.split("/")[1]}`),!g&&/\.[A-Za-z0-9]{2,5}$/.test(h)&&(g=h.slice(h.lastIndexOf("."))),g&&(d+=g)}const p=new Blob([b.data],{type:f}),S=window.URL.createObjectURL(p),c=document.createElement("a");c.href=S,c.setAttribute("download",d),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(S),E({text:`${d} 下載成功`,snackbarProps:{color:"teal-lighten-1"}})}catch(b){console.error("下載檔案失敗:",b),E({text:((n=(i=b.response)==null?void 0:i.data)==null?void 0:n.message)||"下載檔案失敗",snackbarProps:{color:"red-lighten-1"}})}},tl=l=>{switch(l){case"pdf":return"mdi-file-pdf-box";case"word":return"mdi-file-word-box";case"excel":return"mdi-file-excel-box";case"powerpoint":return"mdi-file-powerpoint-box";case"image":return"mdi-file-image";case"zip":return"mdi-folder-zip";default:return"mdi-file-document"}},sl=l=>{switch(l){case"pdf":return"red-lighten-1";case"word":return"blue";case"excel":return"green";case"powerpoint":return"orange-darken-1";case"image":return"purple-lighten-1";case"zip":return"amber";default:return"grey"}},ol=l=>{if(!l)return"0 B";const e=1024,a=["B","KB","MB","GB"],t=Math.floor(Math.log(l)/Math.log(e));return Math.round(l/Math.pow(e,t)*100)/100+" "+a[t]},nl=async()=>{try{he.value=!0;const{data:l}=await q.get("/sharedResources/active",{params:{limit:10}});l.success&&(ie.value=l.result.map(e=>{var a,t,v;return{id:e._id,name:e.name,type:e.type,size:ol(((a=e.file)==null?void 0:a.size)||0),url:e._id,description:e.description,fileOriginalName:((t=e.file)==null?void 0:t.originalName)||"",mimetype:((v=e.file)==null?void 0:v.mimetype)||""}}))}catch(l){console.error("獲取共享資源數據失敗:",l),ie.value=[]}finally{he.value=!1}},il=async()=>{try{fe.value=!0;const{data:l}=await q.get("/employees/all",{params:{status:"在職",itemsPerPage:-1}});if(l.success){let e=[];Array.isArray(l.result)?e=l.result:l.result&&Array.isArray(l.result.data)&&(e=l.result.data);const a={永信台北:"cyan-darken-2",永信高雄:"orange-darken-2",永信台中:"pink-darken-1",永信桃園:"indigo-darken-2",default:"grey-darken-1"};oe.value=e.filter(t=>t.extNumber).map(t=>{var n,b;const v=((n=t.company)==null?void 0:n.name)||"其他",i=a[v]||a.default;return{_id:t._id,name:t.name,extNumber:t.extNumber,jobTitle:t.jobTitle||"職員",department:((b=t.department)==null?void 0:b.name)||"",companyName:v,companyColor:i}}).sort((t,v)=>t.name.localeCompare(v.name,"zh-Hant"))}}catch(l){console.error("獲取分機表數據失敗:",l),oe.value=[]}finally{fe.value=!1}},rl=async()=>{try{pe.value=!0;const{data:l}=await q.get("/carousels/active");l.success&&(me.value=l.result.map(e=>({id:e._id,image:e.image,title:e.title,description:e.description,link:e.link})))}catch(l){console.error("獲取輪播圖數據失敗:",l),me.value=[{id:1,image:"https://picsum.photos/800/400?random=1",title:"輪播項目 1"},{id:2,image:"https://picsum.photos/800/400?random=2",title:"輪播項目 2"},{id:3,image:"https://picsum.photos/800/400?random=3",title:"輪播項目 3"},{id:4,image:"https://picsum.photos/800/400?random=4",title:"輪播項目 4"},{id:5,image:"https://picsum.photos/800/400?random=5",title:"輪播項目 5"}]}finally{pe.value=!1}},ul=async()=>{try{se.value=!0;const{data:l}=await q.get("/announcements",{params:{isActive:!0,page:1,itemsPerPage:6,sortBy:"createdAt",sortOrder:"desc"}});l.success&&(te.value=l.result.data)}catch(l){console.error("載入公告錯誤:",l)}finally{se.value=!1}},ge=()=>{H.value=xe()},cl=()=>{ge();const l=xe();l?(I.value=l.cityName,A.value=l.district):(I.value=null,A.value=null),ae.value=!0},we=()=>{ae.value=!1,I.value=null,A.value=null},dl=async()=>{if(!I.value){E({text:"請選擇城市",snackbarProps:{color:"warning"}});return}if(!A.value){E({text:"請選擇區域",snackbarProps:{color:"warning"}});return}if(!Ue(I.value).some(t=>t.value===A.value)){A.value=null,E({text:"區域與城市不匹配，請重新選擇",snackbarProps:{color:"warning"}});return}const a={cityName:I.value,district:A.value,latitude:null,longitude:null,source:"manual"};vl(a),ge(),we(),await _e(),E({text:"位置已更新",snackbarProps:{color:"teal-lighten-1"}})},vl=l=>{try{localStorage.setItem("weatherLocation",JSON.stringify(l))}catch(e){console.error("保存位置失敗:",e)}},xe=()=>{try{const l=localStorage.getItem("weatherLocation");if(l)return JSON.parse(l)}catch(l){console.error("讀取位置失敗:",l)}return null},bl=async()=>{try{localStorage.removeItem("weatherLocation"),H.value=null,I.value=null,A.value=null,E({text:"已清除手動位置，將使用自動定位",snackbarProps:{color:"info"}}),await _e()}catch(l){console.error("清除位置失敗:",l)}},ml=async()=>{const l=[{url:"https://ipinfo.io/json",handler:e=>{var t;const a=(t=e.loc)==null?void 0:t.split(",");return{countryCode:e.country,city:e.city,region:e.region,latitude:a==null?void 0:a[0],longitude:a==null?void 0:a[1]}}},{url:"https://ipapi.co/json/",handler:e=>({countryCode:e.country_code,city:e.city,region:e.region,latitude:e.latitude,longitude:e.longitude})}];for(const e of l)try{const a=new AbortController,t=setTimeout(()=>a.abort(),5e3),v=await fetch(e.url,{signal:a.signal});if(clearTimeout(t),v.ok){const i=await v.json(),n=e.handler(i);if(n.countryCode==="TW"||n.countryCode==="Taiwan"){const b=n.city;if(b==="Taipei")return{cityName:"臺北市",district:null,latitude:n.latitude,longitude:n.longitude};if(b)return{cityName:b,district:null,latitude:n.latitude,longitude:n.longitude}}}}catch(a){console.warn(`IP 定位服務失敗 (${e.url}):`,a==null?void 0:a.message)}return console.warn("所有 IP 定位服務都失敗，使用預設位置: 臺北市"),{cityName:"臺北市",district:null,latitude:null,longitude:null}},De=async(l,e)=>{if(!l||!e)return null;const a=`rg:${Number(l).toFixed(4)},${Number(e).toFixed(4)}`;try{const t=localStorage.getItem(a);if(t){const v=JSON.parse(t);if(v&&v.ts&&Date.now()-v.ts<Pa)return console.log("[Weather] 反向地理編碼命中快取"),v.value}}catch(t){console.warn("[Weather] 快取讀取失敗:",t==null?void 0:t.message)}try{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${l}&lon=${e}&format=json&addressdetails=1&accept-language=zh-TW&zoom=14`,{headers:{"User-Agent":"WeatherApp/1.0"}});if(!t.ok)return null;const i=(await t.json()).address||{},n=i.city||i.county||i.city_district||i.state;let b=i.city_district||i.district||i.town||i.borough||i.suburb||i.neighbourhood;b||(b=i.village||i.quarter);let m=n;n==="Taipei"||n==="台北"||n==="臺北"||n==="Taipei City"?m="臺北市":n==="New Taipei"||n==="新北"||n==="New Taipei City"||n==="新北市"?m="新北市":n==="Taoyuan"||n==="桃園"||n==="Taoyuan City"?m="桃園市":n==="Taichung"||n==="台中"||n==="臺中"||n==="Taichung City"?m="臺中市":n==="Tainan"||n==="台南"||n==="臺南"||n==="Tainan City"?m="臺南市":n==="Kaohsiung"||n==="高雄"||n==="Kaohsiung City"?m="高雄市":(n==="Keelung"||n==="基隆"||n==="Keelung City")&&(m="基隆市"),m&&!m.endsWith("市")&&!m.endsWith("縣")&&["臺北","新北","桃園","臺中","臺南","高雄","基隆"].some(d=>m.includes(d))&&(m.endsWith("市")||(m=m.replace("市","")+"市"));const f={cityName:m,district:b};try{localStorage.setItem(a,JSON.stringify({ts:Date.now(),value:f}))}catch(h){console.warn("[Weather] 快取寫入失敗:",h==null?void 0:h.message)}return f}catch(t){return console.warn("[Weather] 反向地理編碼背景任務失敗:",t==null?void 0:t.message),null}},_e=async()=>{var l,e,a;try{Z.value=!0,le.value="";let t=null;const v=xe();if(v)t=v;else if(t=await ml(),t.latitude&&t.longitude&&!t.district)try{const b=await De(t.latitude,t.longitude);b&&b.cityName&&(t.cityName=b.cityName,b.district&&(t.district=b.district))}catch(b){console.warn("[Weather] 反向地理編碼失敗:",b==null?void 0:b.message)}const i=t.cityName||"臺北市",n=await fetch(`${Be}/O-A0003-001?Authorization=${Oe}&format=JSON`);if(n.ok){const b=await n.json();if(b.success&&b.records&&b.records.Station){let m=null;if(t.latitude&&t.longitude){const f=parseFloat(t.latitude),h=parseFloat(t.longitude),y=b.records.Station.map(p=>{const S=p.GeoInfo||{},c=S.Coordinates||[],_=parseFloat(S.StationAltitude||0);let g=0,W=0;if(Array.isArray(c)&&c.length>0){if(typeof c[0]=="object"&&c[0]!==null){let V=null,D=null;for(const u of c)u.CoordinateName==="WGS84"||u.coordinateName==="WGS84"?V=u:(u.CoordinateName==="TWD67"||u.coordinateName==="TWD67")&&(D=u);const M=V||D||c[0];if(M){const u=parseFloat(M.StationLatitude||M.stationLatitude||0),k=parseFloat(M.StationLongitude||M.stationLongitude||0);!isNaN(u)&&!isNaN(k)&&u!==0&&k!==0&&(g=u,W=k)}}else if(typeof c[0]=="number"||typeof c[0]=="string"){const V=parseFloat(c[0]),D=parseFloat(c[1]);!isNaN(V)&&!isNaN(D)&&(g=V,W=D)}}if(g!==0&&W!==0){const D=(g-f)*Math.PI/180,M=(W-h)*Math.PI/180,u=Math.sin(D/2)*Math.sin(D/2)+Math.cos(f*Math.PI/180)*Math.cos(g*Math.PI/180)*Math.sin(M/2)*Math.sin(M/2),F=6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)));return{station:p,distance:F,lat:g,lon:W,altitude:_}}return{station:p,distance:1/0,altitude:_}}).filter(p=>p.distance!==1/0);if(y.length>0){const p=y.filter(c=>(c.station.GeoInfo||{}).CountyName===i&&c.altitude<200);let S=p.length>0?p:y;S.sort((c,_)=>Math.abs(c.distance-_.distance)<5?c.altitude-_.altitude:c.distance-_.distance),m=(l=S[0])==null?void 0:l.station}}if(!m){let f=b.records.Station.filter(h=>{const y=(h.GeoInfo||{}).CountyName||"",p=h.StationName||"",S=i.replace("台","臺").replace("市","").replace("縣","").trim(),c=y.replace("台","臺").replace("市","").replace("縣","").trim(),_=p.replace("台","臺").replace("市","").replace("縣","").trim(),g=c===S,W=y===i,V=c.includes(S),D=S.includes(c),M=_.includes(S);return g||W||V||D||M||i==="新北市"&&(y==="新北"||y==="新北市"||c==="新北")||i==="臺北市"&&(y==="臺北"||y==="臺北市"||c==="臺北")||i==="臺中市"&&(y==="臺中"||y==="臺中市"||c==="臺中")||i==="臺南市"&&(y==="臺南"||y==="臺南市"||c==="臺南")||i==="高雄市"&&(y==="高雄"||y==="高雄市"||c==="高雄")||i==="桃園市"&&(y==="桃園"||y==="桃園市"||c==="桃園")});if(f.length>0){if(t.district){const d=f.filter(y=>{const S=(y.GeoInfo||{}).TownName||"";return S===t.district||S.includes(t.district.replace("區","").replace("鄉","").replace("鎮","").replace("市",""))});d.length>0&&(f=d)}const h=f.filter(d=>{const y=d.GeoInfo||{};return parseFloat(y.StationAltitude||0)<200});if(h.length>0){const d=i.replace("市","").replace("縣","");m=h.find(y=>{const p=y.StationName||"";return p.includes(d)||p===d||p===i}),m||(m=h[0])}else f.sort((d,y)=>{var c,_;const p=parseFloat(((c=d.GeoInfo)==null?void 0:c.StationAltitude)||0),S=parseFloat(((_=y.GeoInfo)==null?void 0:_.StationAltitude)||0);return p-S}),m=f[0]}}if(m||(m=b.records.Station[0],console.warn("未找到匹配的觀測站，使用第一個:",m==null?void 0:m.StationName)),m){const f=m.WeatherElement||{},h=m.GeoInfo||{},d=f.Now||{};let y=f.AirTemperature||f.Temperature||d.AirTemperature||d.Temperature||f.T||0;const p=Math.round(parseFloat(y));let S=f.RelativeHumidity||f.Humidity||d.RelativeHumidity||d.Humidity||f.RH||0;const c=Math.round(parseFloat(S)),_=parseFloat(f.WindSpeed||f.WS||d.WindSpeed||d.WS||0);let g=p;if(p>=27&&c>=40){const u=p,k=c,F=-8.78469475556+1.61139411*u+2.33854883889*k+-.14611605*u*k+-.012308094*Math.pow(u,2)+-.0164248277778*Math.pow(k,2)+.002211732*Math.pow(u,2)*k+72546e-8*u*Math.pow(k,2)+-3582e-9*Math.pow(u,2)*Math.pow(k,2);g=Math.round(F)}else if(p<=10&&_>4.8){const u=_*3.6,k=13.12+.6215*p-11.37*Math.pow(u,.16)+.3965*p*Math.pow(u,.16);g=Math.round(k)}else{let u=0;p>20?u+=(c-50)*.05:p<15&&(u-=(c-50)*.03),_>2&&(u-=_*.3),g=Math.round(p+u)}g>p+5&&(g=p+5),g<p-8&&(g=p-8);let W=0;try{const u=h.CountyName||i,k=await fetch(`${Be}/F-C0032-001?Authorization=${Oe}&locationName=${encodeURIComponent(u)}`);if(k.ok){const F=await k.json();if(F.success==="true"&&((e=F.records)!=null&&e.location)){const ke=Array.isArray(F.records.location)?F.records.location:[F.records.location];if(ke.length>0){const Q=(ke[0].weatherElement||[]).find(re=>re.elementName==="PoP");if(Q&&Q.time&&Q.time.length>0){const re=new Date,ue=Q.time.find(Me=>{const Nl=new Date(Me.startTime),Sl=new Date(Me.endTime);return re>=Nl&&re<=Sl})||Q.time[0];ue&&ue.parameter&&(W=parseInt(ue.parameter.parameterName||ue.parameter.parameterValue||"0"))}}}}}catch(u){console.warn("無法獲取降雨機率:",u)}let V=i;t.district?V=`${i} ${t.district}`:h.CountyName&&h.TownName&&h.CountyName===i?V=`${h.CountyName} ${h.TownName}`:h.CountyName===i&&(V=h.CountyName);const D=pl(m),M=fl(m);$.value={temperature:p||0,condition:D,humidity:c||0,feelsLike:g||p||0,precipitationProbability:W||0,location:V,description:M,pressure:Math.round(parseFloat(f.AirPressure||((a=f.Now)==null?void 0:a.Pressure)||0)),visibility:10},(async()=>{try{if(t.latitude&&t.longitude){const u=await De(t.latitude,t.longitude);if(u&&u.cityName){const k=u.district?`${u.cityName} ${u.district}`:u.cityName;k&&k!==$.value.location&&($.value.location=k)}}}catch(u){console.warn("[Weather] 背景更新地區名稱失敗:",u==null?void 0:u.message)}})();return}}}throw new Error("無法從中央氣象署獲取天氣資料")}catch(t){console.error("天氣 API 失敗:",t),le.value="無法獲取天氣數據，使用預設資料",$.value={temperature:28,condition:"sunny",humidity:65,feelsLike:30,precipitationProbability:20,location:"台北市",description:"晴朗",pressure:1013,visibility:10}}finally{Z.value=!1}},pl=l=>{var v,i;const e=l.WeatherElement||{},a=e.Weather||((v=e.Now)==null?void 0:v.Weather)||"";if(parseFloat(e.Precipitation||((i=e.Now)==null?void 0:i.Precipitation)||0)>0)return"rainy";if(a){const n=a.toLowerCase();if(n.includes("雨")||n.includes("rain"))return"rainy";if(n.includes("雷")||n.includes("thunder"))return"stormy";if(n.includes("霧")||n.includes("fog"))return"foggy";if(n.includes("雲")||n.includes("cloud")||n.includes("陰"))return"cloudy";if(n.includes("晴")||n.includes("sunny"))return"sunny"}return"sunny"},fl=l=>{var v,i;const e=l.WeatherElement||{},a=e.Weather||((v=e.Now)==null?void 0:v.Weather)||"";if(a)return a;const t=parseFloat(e.Precipitation||((i=e.Now)==null?void 0:i.Precipitation)||0);return t>0?`降雨 ${t.toFixed(1)}mm`:"晴朗"},yl=l=>({system:"blue-darken-2",update:"cyan-darken-3",announcement:"grey-darken-2",maintenance:"red-darken-1",event:"indigo-darken-1"})[l]||"grey",hl=l=>({system:"系統",update:"更新",announcement:"一般",maintenance:"維護",event:"活動"})[l]||"一般",gl=l=>({system:"mdi-cog-outline",update:"mdi-refresh",announcement:"mdi-bullhorn-outline",maintenance:"mdi-wrench-outline",event:"mdi-calendar-star"})[l]||"mdi-file-document-outline",wl=l=>{if(!l)return"-";const e=new Date(l),a=e.getFullYear(),t=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${a}/${t}/${v} ${i}:${n}`},xl=l=>{if(!l)return"-";const e=new Date(l),a=(e.getMonth()+1).toString().padStart(2,"0"),t=e.getDate().toString().padStart(2,"0");return`${a}/${t}`},_l=l=>{Ke.push(`/announcement/${l._id}`)};return zl(async()=>{Ae(),be=setInterval(Ae,1e3),ge(),await Promise.all([_e(),rl(),ul(),il(),nl()])}),Ll(I,(l,e)=>{l!==e&&e!==null&&(A.value=null)}),Tl(()=>{be&&clearInterval(be)}),(l,e)=>(z(),R(Kl,{class:"px-3 px-sm-6","max-width":"1620px"},{default:o(()=>[s(de,{class:"mt-md-3"},{default:o(()=>[s(O,{cols:"12",lg:"9"},{default:o(()=>[s(de,null,{default:o(()=>[s(O,{cols:"12",sm:"3",class:"pb-2 d-none d-md-block"},{default:o(()=>[s(de,null,{default:o(()=>[s(O,{cols:"12",sm:"6",lg:"12",class:"pb-2 d-none d-lg-block"},{default:o(()=>[s(G,{class:"dashboard-card time-card",elevation:"2"},{default:o(()=>[s(K,{class:"d-flex flex-column align-center justify-center h-100"},{default:o(()=>[r("div",Zl,w(ze.value),1),r("div",Yl,w(Le.value)+" "+w(Te.value),1)]),_:1})]),_:1})]),_:1}),s(O,{cols:"12"},{default:o(()=>[s(G,{class:ce(["dashboard-card weather-card",{"weather-card-loading":Z.value}]),elevation:"2",style:Il(Z.value?{}:{backgroundImage:`url(${el.value})`})},{default:o(()=>[s(K,{class:"d-flex flex-column align-center justify-center h-100 px-0 pt-2 pb-4"},{default:o(()=>[Z.value?(z(),R(Pe,{key:0,type:"image, text, text",class:"w-100 mt-5 px-4"})):(z(),P(Ce,{key:1},[r("div",Ql,w($.value.temperature)+"°C ",1),r("div",Xl,[r("span",null,w($.value.location),1),s(j,{icon:"",size:"28",variant:"text",color:"white",style:{"margin-left":"2px"},onClick:$e(cl,["stop"])},{default:o(()=>[s(N,{size:"16"},{default:o(()=>e[7]||(e[7]=[x(" mdi-map-marker ")])),_:1}),s(Wl,{activator:"parent",location:"top"},{default:o(()=>e[8]||(e[8]=[x(" 選擇位置 ")])),_:1})]),_:1})]),r("div",ea,w($.value.description),1),r("div",la,[r("div",aa,[s(N,{size:"16",color:"white",class:"me-2"},{default:o(()=>e[9]||(e[9]=[x(" mdi-water ")])),_:1}),r("span",ta,"濕度 "+w($.value.humidity)+"%",1)]),r("div",sa,[s(N,{size:"16",color:"white",class:"me-2"},{default:o(()=>e[10]||(e[10]=[x(" mdi-thermometer ")])),_:1}),r("span",oa,"體感溫度 "+w($.value.feelsLike)+"°C",1)]),r("div",na,[s(N,{size:"16",color:"white",class:"me-2"},{default:o(()=>e[11]||(e[11]=[x(" mdi-weather-rainy ")])),_:1}),r("span",ia,"降雨機率 "+w($.value.precipitationProbability)+"%",1)])]),le.value?(z(),R(Fl,{key:0,type:"warning",variant:"tonal",size:"small",class:"mt-2"},{default:o(()=>[x(w(le.value),1)]),_:1})):B("",!0)],64))]),_:1})]),_:1},8,["class","style"])]),_:1})]),_:1})]),_:1}),s(O,{cols:"12",md:"9",class:"pb-md-0"},{default:o(()=>[s(G,{class:"dashboard-card swiper-card",elevation:"2"},{default:o(()=>[pe.value?(z(),R(Pe,{key:0,type:"image"})):(z(),R(Pl,{key:1,modelValue:Ie.value,"onUpdate:modelValue":e[0]||(e[0]=a=>Ie.value=a),cycle:"",color:"#999",interval:"6000","show-arrows":"hover","hide-delimiter-background":"",height:He.value,touch:""},{prev:o(({props:a})=>[s(j,We(a,{class:"custom-carousel-btn",size:ee.value,variant:"text"}),{default:o(()=>[s(N,{size:"28",color:"amber-darken-1"},{default:o(()=>e[12]||(e[12]=[x(" mdi-chevron-left ")])),_:1})]),_:2},1040,["size"])]),next:o(({props:a})=>[s(j,We(a,{class:"custom-carousel-btn",size:ee.value,variant:"text"}),{default:o(()=>[s(N,{size:"28",color:"amber-darken-1"},{default:o(()=>e[13]||(e[13]=[x(" mdi-chevron-right ")])),_:1})]),_:2},1040,["size"])]),default:o(()=>[(z(!0),P(Ce,null,Fe(me.value,a=>(z(),R(Rl,{key:a.id,src:a.image,cover:"",draggable:"true",class:ce({"has-link":a.link}),onClick:t=>ll(a)},null,8,["src","class","onClick"]))),128))]),_:1},8,["modelValue","height"]))]),_:1})]),_:1})]),_:1}),s(de,null,{default:o(()=>[s(O,{cols:"12"},{default:o(()=>[s(G,{class:"dashboard-card news-card pa-0",elevation:"2"},{default:o(()=>[s(Ne,{class:"d-flex align-center bg-blue-grey-darken-2"},{default:o(()=>[s(N,{size:T(L)?"18":"16",color:"white",class:"me-2"},{default:o(()=>e[14]||(e[14]=[x(" mdi-newspaper-variant ")])),_:1},8,["size"]),e[15]||(e[15]=r("span",{class:"home-card-title"},"最新公告",-1)),s(X),s(J,{label:"",size:T(L)?"small":"x-small",color:"white",variant:"outlined"},{default:o(()=>[x(w(te.value.length)+" 則公告 ",1)]),_:1},8,["size"])]),_:1}),s(K,{class:"px-0"},{default:o(()=>[s(Re,{headers:Ye.value,items:te.value,loading:se.value,"hide-default-footer":"",class:"news-table elevation-0",density:"compact","items-per-page":6},{item:o(({item:a,index:t})=>{var v;return[r("tr",{class:ce({"odd-row":t%2===0,"even-row":t%2!==0}),onClick:i=>_l(a)},[r("td",ua,[s(J,{color:yl(a.type),label:"",size:T(L)?"small":"x-small"},{default:o(()=>[s(N,{icon:gl(a.type),size:T(L)?"14":"12",class:"me-1"},null,8,["icon","size"]),x(" "+w(hl(a.type)),1)]),_:2},1032,["color","size"])]),r("td",null,[r("div",ca,w(a.title),1)]),T(ve)?(z(),P("td",da,[r("div",va,[s(N,{icon:"mdi-account",size:"12",class:"me-1"}),r("span",ba,w(((v=a.creator)==null?void 0:v.name)||"未知"),1)])])):B("",!0),r("td",ma,[r("div",pa,[s(N,{icon:"mdi-clock-outline",size:"12",class:"me-1"}),r("span",fa,w(T(L)?wl(a.createdAt):xl(a.createdAt)),1)])]),T(L)?(z(),P("td",ya,[r("div",ha,[s(N,{icon:"mdi-eye",size:"12",class:"me-1"}),r("span",ga,w(a.viewCount||0),1)])])):B("",!0)],10,ra)]}),"no-data":o(()=>e[16]||(e[16]=[r("div",{class:"text-center text-grey pt-4 pb-4",style:{cursor:"default"}}," 暫無公告 ",-1)])),_:1},8,["headers","items","loading"]),!se.value&&te.value.length>=6?(z(),P("div",wa,[s(j,{variant:"plain",color:"blue-grey-darken-2",size:"small",ripple:!1,class:"opacity-75",onClick:e[1]||(e[1]=a=>l.$router.push("/announcement"))},{default:o(()=>[e[17]||(e[17]=x(" 查看更多 ")),s(N,{icon:"mdi-chevron-right",size:"18",class:"ms-1"})]),_:1})])):B("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(O,{cols:"12",lg:"3"},{default:o(()=>[s(G,{class:"dashboard-card extension-card pb-4",elevation:"2"},{default:o(()=>[s(Ne,{class:"d-flex align-center bg-blue-grey-darken-2"},{default:o(()=>[s(N,{size:T(L)?"18":"16",color:"white",class:"me-2"},{default:o(()=>e[18]||(e[18]=[x(" mdi-phone ")])),_:1},8,["size"]),e[19]||(e[19]=r("span",{class:"home-card-title"},"分機查詢",-1)),s(X),s(J,{label:"",size:T(L)?"small":"x-small",color:"white",variant:"outlined"},{default:o(()=>[x(w(ye.value.length)+" 人 ",1)]),_:1},8,["size"])]),_:1}),s(je,{modelValue:ne.value,"onUpdate:modelValue":e[2]||(e[2]=a=>ne.value=a),density:"compact",variant:"outlined",placeholder:"搜尋姓名或分機","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"",class:"mb-3 px-3 pt-2"},null,8,["modelValue"]),s(K,{class:"me-2 ps-3 pe-2 pt-0 pb-2 overflow-y-auto",style:{height:"230px"}},{default:o(()=>[fe.value?(z(),P("div",xa,[s(jl,{indeterminate:"",color:"blue-grey-darken-1",size:"32",width:"3"})])):(z(),R(El,{key:1,class:"pa-0 list-scroll"},{default:o(()=>[(z(!0),P(Ce,null,Fe(ye.value,a=>(z(),R(Ul,{key:a._id,class:"px-3 py-1 mb-1 rounded extension-item",density:"compact"},{append:o(()=>[s(J,{label:"",size:"small",color:"blue-darken-1",style:{border:"1px solid #1E88E5"}},{default:o(()=>[s(N,{size:"12",class:"me-1"},{default:o(()=>e[20]||(e[20]=[x(" mdi-phone ")])),_:1}),x(" "+w(a.extNumber),1)]),_:2},1024)]),default:o(()=>[s(Bl,{class:"text-body-2 font-weight-medium d-flex align-center"},{default:o(()=>[s(J,{size:"x-small",color:a.companyColor,class:"me-2 ext-company-chip"},{default:o(()=>[x(w(a.companyName),1)]),_:2},1032,["color"]),r("span",_a,w(a.name),1),r("span",ka,"("+w(a.jobTitle)+")",1)]),_:2},1024)]),_:2},1024))),128)),ye.value.length===0?(z(),P("div",Ca," 查無資料 ")):B("",!0)]),_:1}))]),_:1})]),_:1}),s(G,{class:"dashboard-card shared-resources-card pa-0",elevation:"2"},{default:o(()=>[s(Ne,{class:"d-flex align-center bg-blue-grey-darken-2"},{default:o(()=>[s(N,{size:T(L)?"18":"16",color:"white",class:"me-2"},{default:o(()=>e[21]||(e[21]=[x(" mdi-folder-outline ")])),_:1},8,["size"]),e[22]||(e[22]=r("span",{class:"home-card-title"},"共享資源",-1)),s(X),s(J,{label:"",size:T(L)?"small":"x-small",color:"white",variant:"outlined"},{default:o(()=>[x(w(Ve.value.length)+" 個檔案 ",1)]),_:1},8,["size"])]),_:1}),s(K,{class:"px-0 pb-6"},{default:o(()=>[s(je,{modelValue:Y.value,"onUpdate:modelValue":e[3]||(e[3]=a=>Y.value=a),density:"compact",variant:"outlined",placeholder:"搜尋檔案名稱","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"",class:"px-3 pt-2 pb-2"},null,8,["modelValue"]),s(Re,{headers:Qe.value,items:Ve.value,loading:he.value,"hide-default-footer":"","hide-default-header":"",class:"shared-resources-table elevation-0",density:"compact","items-per-page":10},{item:o(({item:a,index:t})=>[r("tr",{class:ce({"odd-row":t%2===0,"even-row":t%2!==0})},[r("td",null,[r("div",Na,[s(Ol,{color:sl(a.type),size:"22"},{default:o(()=>[s(N,{size:"12",color:"white",style:{"margin-right":"1px"}},{default:o(()=>[x(w(tl(a.type)),1)]),_:2},1024)]),_:2},1032,["color"])])]),r("td",null,[r("div",Sa,w(a.name),1)]),T(L)?(z(),P("td",za,[r("div",La,[r("span",Ta,w(a.size),1)])])):B("",!0),r("td",null,[r("div",Ia,[s(j,{icon:"",size:"32",variant:"text",color:"blue-grey-darken-1",onClick:$e(v=>al(a),["stop"])},{default:o(()=>[s(N,{size:"16"},{default:o(()=>e[23]||(e[23]=[x(" mdi-download ")])),_:1})]),_:2},1032,["onClick"])])])],2)]),"no-data":o(()=>[r("div",Va,w(Y.value?"查無符合條件的檔案":"暫無共享資源"),1)]),_:1},8,["headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),s(Hl,{modelValue:ae.value,"onUpdate:modelValue":e[6]||(e[6]=a=>ae.value=a),"max-width":"360px"},{default:o(()=>[s(G,{class:"rounded-lg"},{default:o(()=>[r("div",Aa,[s(N,{size:T(L)?"20":"16",color:"white",class:"me-2"},{default:o(()=>e[24]||(e[24]=[x(" mdi-map-marker ")])),_:1},8,["size"]),e[26]||(e[26]=x(" 選擇地區 ")),s(X),s(j,{icon:"",color:"white",variant:"plain",class:"opacity-100",ripple:!1,size:T(L)?"20":"16",onClick:we},{default:o(()=>[s(N,{size:T(L)?"20":"16"},{default:o(()=>e[25]||(e[25]=[x(" mdi-close ")])),_:1},8,["size"])]),_:1},8,["size"])]),s(K,{class:"mt-3 mb-2 px-6 pb-2"},{default:o(()=>[r("div",null,[s(Ee,{modelValue:I.value,"onUpdate:modelValue":e[4]||(e[4]=a=>I.value=a),items:T(Jl),label:"選擇城市 *",variant:"outlined",density:"compact","item-title":"label","item-value":"value",rules:Je,required:"",clearable:"","hide-details":"",class:"mb-4"},null,8,["modelValue","items"]),I.value?(z(),R(Ee,{key:0,modelValue:A.value,"onUpdate:modelValue":e[5]||(e[5]=a=>A.value=a),items:Ze.value,label:"選擇區域 *",variant:"outlined",density:"compact","item-title":"label","item-value":"value",rules:qe,required:"",clearable:"","hide-details":""},null,8,["modelValue","items"])):B("",!0),H.value?(z(),P("div",Da,[r("div",Ma,[r("div",$a,[s(N,{size:"28",color:"teal-darken-1",class:"me-3"},{default:o(()=>e[27]||(e[27]=[x(" mdi-map-marker-check ")])),_:1}),r("div",Wa,[e[28]||(e[28]=r("div",{class:"text-caption text-grey-darken-1"}," 已設定地區 ",-1)),r("div",Fa,w(H.value.cityName)+w(H.value.district?` ${H.value.district}`:""),1)])]),s(j,{icon:"",size:"32",variant:"text",color:"grey-darken-1",class:"ms-2",onClick:bl},{default:o(()=>[s(N,{size:"18"},{default:o(()=>e[29]||(e[29]=[x(" mdi-close ")])),_:1})]),_:1})])])):B("",!0)])]),_:1}),s(Gl,{class:"px-6 pb-5"},{default:o(()=>[s(X),s(j,{color:"grey-darken-1",variant:"outlined",class:"me-1",size:ee.value,onClick:we},{default:o(()=>e[30]||(e[30]=[x(" 取消 ")])),_:1},8,["size"]),s(j,{color:"teal-darken-1",variant:"outlined",class:"ms-1",size:ee.value,disabled:!I.value||!A.value,onClick:dl},{default:o(()=>e[31]||(e[31]=[x(" 確認 ")])),_:1},8,["size","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ot=Dl(Ra,[["__scopeId","data-v-0ed38a2b"]]);export{ot as default};

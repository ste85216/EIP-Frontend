import{_ as at,b as st}from"./index-BBlsm_-Y.js";import{i as nt}from"./vuetify-use-dialog-C5oZ13xz.js";import{l as ot}from"./lodash-CiJWSuVn.js";import{q as rt,Q as it,w as g,a as q,f as F,A as j,c as O,v as C,_ as Ne,P as Q,g as I,r as T,d as P,R as dt,F as J,b as be,a1 as re,e as fe,V as ve,U as ut,ad as ie,Y as Be,T as ct}from"./vuetify-CbddcmEc.js";import{r as M,a as W,f as ee,w as Ae,k as pt,aS as mt,aV as i,Z as V,bH as n,b2 as gt,a8 as a,a0 as u,a7 as x,u as S,bJ as yt,_ as U,$ as p,bf as v,aH as bt,F as _,b0 as E}from"./@vue-Cr_z6yfx.js";/* empty css             */import"./pinia-DBRIaiZ_.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-router-BFBClpR6.js";import"./jspdf-DacfHTdZ.js";import"./core-js-D2hAHviU.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./unplugin-vue-router-B1N3mqWX.js";import"./axios-upsvKRUO.js";import"./vue3-google-login-Dx7TV_Hx.js";import"./vue-easy-lightbox-D952uME8.js";import"./perfect-debounce-Cp2ysxOb.js";import"./hookable-B8xFkYCm.js";const ft={class:"d-flex align-center px-4 px-sm-6"},vt={class:"d-flex flex-column"},xt={class:"d-flex flex-column"},kt={class:"d-flex flex-column"},ht={class:"d-flex flex-column"},_t={class:"d-flex flex-column"},Vt={class:"d-flex flex-column"},wt={class:"d-flex align-center"},Tt={key:0},Ut={key:0},Dt={class:"text-caption text-grey-darken-1"},Ct={key:1},qt={key:2},St={key:3},Et={key:4},zt={key:0,class:"department-note-display"},$t=["innerHTML"],Pt={key:1,class:"department-note-display"},It={class:"text-center"},Mt={class:"d-flex align-center mb-4"},Rt={class:"d-flex align-center mb-2"},Nt={class:"text-body-2"},Bt={class:"d-flex align-center mb-2"},At={class:"text-body-2"},jt={class:"d-flex align-center mb-2"},Ot={class:"text-body-2"},Ht={class:"text-caption text-grey-darken-1"},Lt={class:"d-flex align-center mb-2"},Ft={class:"text-body-2"},Gt={class:"d-flex align-center mb-2"},Qt={class:"text-body-2"},Jt={class:"d-flex align-center mb-2"},Wt={class:"text-body-2"},Yt={class:"d-flex align-center mb-2"},Zt={class:"text-body-2"},Xt=["innerHTML"],Kt={key:1,class:"text-grey-lighten-1"},el={class:"d-flex align-center mb-4 mt-4"},tl={class:"d-flex align-center mb-2"},ll={class:"text-body-2 info-item-value"},al={class:"text-grey-darken-1"},sl={class:"printing-section-header d-flex align-center px-5 py-3"},nl={class:"sub-title text-blue-grey-darken-2 font-weight-bold"},ol={class:"d-flex align-center mb-2"},rl={class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},il={class:"text-body-2 info-item-value"},dl={key:0,style:{"white-space":"pre-line"}},ul={key:1},cl={key:0,style:{"white-space":"pre-line"}},pl={key:1},ml={class:"d-flex align-center mb-2"},gl={class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},yl={class:"text-body-2 info-item-value"},bl={key:0,style:{"white-space":"pre-line"}},fl={key:1},vl={key:0,style:{"white-space":"pre-line"}},xl={key:1},kl={class:"text-grey-darken-1"},hl={key:1,class:"text-grey"},_l={key:7,class:"w-100 py-4 px-3 rounded"},Vl={key:0,class:"text-center py-8"},wl={class:"px-3 border rounded-lg h-100 d-flex flex-column"},Tl={class:"d-flex justify-space-between align-center my-2",style:{height:"40px"}},Ul={class:"text-subtitle-2 text-grey-darken-1"},Dl={class:"card-title text-teal-darken-2 mb-3"},Cl={class:"d-flex flex-wrap align-center",style:{gap:"4px"}},ql={key:1,class:"text-overline text-grey-darken-3 ms-1"},Sl={class:"printing-section-header d-flex align-center px-5 py-3"},El={class:"sub-title text-teal-darken-2 font-weight-bold"},zl={key:0,class:"mt-2 text-center",style:{gap:"16px","overflow-x":"auto","padding-bottom":"8px"}},$l=["src","alt"],Pl={key:0,class:"mt-2 text-center",style:{gap:"16px","overflow-x":"auto","padding-bottom":"8px"}},Il=["src","alt"],Ml={key:0},Rl={class:"mt-2 overflow-x-auto text-center",style:{gap:"16px"}},Nl=["src","alt"],Bl={key:1},Al={class:"d-flex flex-wrap align-center",style:{gap:"4px"}},jl={key:1,class:"text-overline text-grey-darken-3 ms-1"},Ol={key:6},Hl={key:7,class:"w-100 border py-4 px-3 rounded"},Ll={class:"d-flex align-center justify-space-between mb-4"},Fl={class:"d-flex align-center"},Gl={class:"sub-title text-grey-darken-1"},Ql={key:0,class:"text-red-lighten-1 text-caption ms-3"},Jl={key:0,class:"text-center py-8"},Wl={class:"px-3 border rounded-lg h-100 d-flex flex-column"},Yl={class:"d-flex justify-space-between align-center my-2",style:{height:"40px"}},Zl={class:"text-subtitle-2 text-grey-darken-1"},Xl={key:1,class:"mt-6"},Kl={class:"notice-text text-grey-darken-1"},ea={class:"mb-4"},ta={class:"bg-teal-lighten-5 pa-4 rounded-lg border-left-teal-darken-2"},la={class:"d-flex align-center mb-2"},aa={__name:"marketingDesignRequest",setup(sa){const{apiAuth:H}=st(),B=nt(),{smAndUp:R,mdAndUp:te}=rt(),L=M(!1),xe=M([]),ke=M(0),A=W({page:1,itemsPerPage:10,sortBy:[{key:"applicationDate",order:"desc"}]}),je=[{title:"申請編號",key:"designRequestNumber",sortable:!0,show:"md"},{title:"申請日期",key:"applicationDate",sortable:!0,show:"all"},{title:"申請人",key:"applicant.name",sortable:!1,show:"all"},{title:"申請類型",key:"productType",sortable:!1,show:"sm"},{title:"狀態",key:"status",sortable:!0,show:"sm"},{title:"處理人員",key:"assignedDesigner.name",sortable:!1,show:"md"},{title:"部門備註",key:"departmentNote",width:300,align:"center",sortable:!1,show:"md"},{title:"查看",key:"actions",align:"center",sortable:!1,show:"all"}],Oe=ee(()=>je.filter(r=>!!(r.show==="all"||r.show==="sm"&&R.value||r.show==="md"&&te.value))),k=W({show:!1,isEdit:!1}),Y=W({show:!1}),Z=W({show:!1}),de=M(null),ue=M(!1),le=M(!1),t=W({productType:"",applicant:""}),X=M([]),he=M([]),N=M([]),$=M(null),_e=ee(()=>N.value.filter(r=>r.name!=="needAirlineHighlight"&&r.name!=="needUseLogo")),He=ee(()=>{if(!w.productCategory)return X.value;const e={printing:["printing"],map:["seriesMap","seriesMapModify","SPMap"],dm:["newDMSingle","newDMMultiple","modifyDM"],electronic:["newElectronicInfo"]}[w.productCategory]||[];return X.value.filter(m=>e.includes(m.value))}),Le=ee(()=>t.printingTypes?Object.values(t.printingTypes).some(r=>r===!0):!1),ce=ee(()=>t.printingTypes?t.printingTypes.coachSign===!0&&t.printingTypes.infoBookletCover===!1&&t.printingTypes.banner===!1&&t.printingTypes.other===!1:!1),Fe=async()=>{if(t.productType==="printing")try{const r=new URLSearchParams;t.printingTypes&&r.append("printingTypes",JSON.stringify(t.printingTypes));const{data:e}=await H.get(`/marketing/design-requests/product-types/printing/fields?${r.toString()}`);e.success&&($.value=e.result)}catch(r){console.error("重新載入印刷欄位配置失敗:",r)}},Ve=M([]),pe=M([]),w=W({search:"",applicationDate:[],applicant:"",productCategory:"",productType:"",status:"",assignedDesigner:""}),ae=M(""),me=M(!1),ge="./",we=r=>r?r.replace(/<a href="([^"]+)" target="_blank" class="url-button">連結<\/a>/g,(e,m)=>`<a href="${m}" target="_blank" class="url-button">連結</a>`):"",Ge=()=>{w.search="",w.applicationDate=[],w.applicant="",w.productCategory="",w.productType="",w.status="",w.assignedDesigner="",G()},G=async()=>{var r,e,m,s,y;if(!L.value){L.value=!0;try{const l={page:A.page,itemsPerPage:A.itemsPerPage,sortBy:(r=A.sortBy[0])==null?void 0:r.key,sortOrder:(e=A.sortBy[0])==null?void 0:e.order,search:ae.value};if(w.applicant&&(l.applicant=w.applicant),w.productCategory&&(l.productCategory=w.productCategory),w.productType&&(l.productType=w.productType),w.status&&(l.status=w.status),w.assignedDesigner&&(l.assignedDesigner=w.assignedDesigner),((m=w.applicationDate)==null?void 0:m.length)>0){const c=Array.from(w.applicationDate),o=c[0],h=c[c.length-1];if(o){const f=new Date(o);f.setHours(0,0,0,0),l.applicationDateStart=f.toISOString()}if(h&&h!==o){const f=new Date(h);f.setHours(23,59,59,999),l.applicationDateEnd=f.toISOString()}else if(o){const f=new Date(o);f.setHours(23,59,59,999),l.applicationDateEnd=f.toISOString()}}const b="/marketing/design-requests",{data:d}=await H.get(b,{params:l});d.success?(xe.value=d.result.data,ke.value=d.result.totalItems):console.error("API 回應失敗:",d)}catch(l){console.error("取得表格資料失敗:",l),B({text:((y=(s=l==null?void 0:l.response)==null?void 0:s.data)==null?void 0:y.message)||"取得表格資料失敗",snackbarProps:{color:"red-lighten-1"}})}finally{L.value=!1,me.value=!1}}},Qe=()=>{G()},Je=async()=>{var r,e;try{const{data:m}=await H.get("/marketing/design-requests/product-types");m.success&&(X.value=m.result.flatMap(s=>s.items.map(y=>({value:y.value,label:`${s.category} - ${y.label}`}))))}catch(m){console.error("取得申請類型失敗:",m),B({text:((e=(r=m==null?void 0:m.response)==null?void 0:r.data)==null?void 0:e.message)||"取得申請類型失敗",snackbarProps:{color:"red-lighten-1"}})}},We=async()=>{var r,e;try{const{data:m}=await H.get("/marketing/design-requests/product-categories");m.success&&(he.value=m.result)}catch(m){console.error("取得大分類失敗:",m),B({text:((e=(r=m==null?void 0:m.response)==null?void 0:r.data)==null?void 0:e.message)||"取得大分類失敗",snackbarProps:{color:"red-lighten-1"}})}},Ye=()=>{w.productType=""},Te=async r=>{var e,m;if(!r){N.value=[],$.value=null;return}try{const{data:s}=await H.get(`/marketing/design-requests/product-types/${r}/fields`);if(s.success){const y=s.result;if($.value=y,r==="printing")t.printingTypes||(t.printingTypes={infoBookletCover:!1,banner:!1,coachSign:!1,other:!1}),t.infoBookletCover||(t.infoBookletCover={title:"",style:"",imageSubject:"",content:"",requestedByDate:null}),t.banner||(t.banner={title:"",style:"",imageSubject:"",content:"",quantity:1,requestedByDate:null}),t.coachSign||(t.coachSign={content:"",useInfoBookletCover:!1,quantity:1}),t.otherNote||(t.otherNote=""),N.value=[];else if(N.value=[...y.fields||[],...y.required||[],...y.optional||[],...y.conditional||[]],console.log("formFields",N.value),N.value.forEach(l=>{l.name in t||(l.type==="checkbox"?t[l.name]=!1:l.type==="file"||l.type==="date"?t[l.name]=null:l.type==="select"?l.name==="useQuickTemplate"&&(r==="newDMSingle"||r==="newDMMultiple")||l.name==="useInfoBookletCover"&&r==="coachSign"?t[l.name]=!1:t[l.name]=null:t[l.name]="")}),r==="newDMMultiple"){const l=N.value.find(b=>b.name==="itinerary");if(l&&(!t.itinerary||t.itinerary.length===0)){t.itinerary=[];for(let b=0;b<2;b++){const d={};l.arrayFields.forEach(c=>{c.type==="number"?d[c.name]=0:c.type==="checkbox"?d[c.name]=!1:d[c.name]=""}),t.itinerary.push(d)}}}}}catch(s){console.error("取得欄位配置失敗:",s),B({text:((m=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:m.message)||"取得欄位配置失敗",snackbarProps:{color:"red-lighten-1"}}),N.value=[],$.value=null}};Ae(()=>t.printingTypes,async r=>{t.productType==="printing"&&r&&await Fe()},{deep:!0});const Ue=(r=null)=>{r?(k.isEdit=!0,k.show=!0,Object.assign(t,r),Te(r.productType)):(k.isEdit=!1,Y.show=!0,ye())},se=()=>{k.show=!1,Y.show=!1,ye()},Ze=async()=>{var y;const{valid:r}=await de.value.validate();let e=!0;const m=N.value.find(l=>l.name==="itinerary");m&&m.required&&(!t.itinerary||t.itinerary.length===0)&&(e=!1,B({text:"請至少新增一筆行程",snackbarProps:{color:"red-lighten-1"}}));let s=!0;t.productType==="printing"&&(Object.values(t.printingTypes||{}).filter(Boolean).length===0&&(s=!1,B({text:"請至少選擇一個印刷類型",snackbarProps:{color:"red-lighten-1"}})),!ce.value&&((y=$.value)!=null&&y.requiredFiles)&&$.value.requiredFiles.find(d=>d.name==="files")&&(!t.files||t.files.length===0)&&(s=!1)),r&&e&&s&&(Z.show=!0)},Xe=async()=>{var r,e,m,s;le.value=!0;try{const y=new FormData;Object.keys(t).forEach(d=>{if(d!=="designRequestNumber"&&d!=="applicant")if(Array.isArray(t[d])&&t[d][0]instanceof File){if(d==="files"&&ce.value)return;t[d].forEach(c=>{y.append(d,c)})}else Array.isArray(t[d])&&d==="itinerary"?t[d].forEach((c,o)=>{Object.keys(c).forEach(h=>{y.append(`itinerary[${o}][${h}]`,c[h])})}):t[d]instanceof Date?y.append(d,t[d].toISOString()):d==="printingTypes"||d==="infoBookletCover"||d==="banner"||d==="coachSign"||d==="otherNote"?d==="printingTypes"?y.append(d,JSON.stringify(t[d])):d==="infoBookletCover"||d==="banner"||d==="coachSign"?t.printingTypes&&t.printingTypes[d]&&({infoBookletCover:["title","style","imageSubject","content","requestedByDate"],banner:["title","style","imageSubject","content","quantity","requestedByDate"],coachSign:["content","useInfoBookletCover","quantity"]}[d]||[]).forEach(h=>{var D;const f=(D=t[d])==null?void 0:D[h];f instanceof Date?y.append(`${d}[${h}]`,f.toISOString()):y.append(`${d}[${h}]`,f??"")}):d==="otherNote"&&t.printingTypes&&t.printingTypes.other&&y.append(d,t[d]??""):t[d]!==null&&t[d]!==void 0&&y.append(d,t[d])});const l="/marketing/design-requests",{data:b}=await H.post(l,y,{headers:{"Content-Type":"multipart/form-data"}});b.success&&(B({text:"申請成功",snackbarProps:{color:"teal-lighten-1"}}),Z.show=!1,Y.show=!1,ye(),G())}catch(y){console.error("送出申請失敗:",y),B({text:((e=(r=y==null?void 0:y.response)==null?void 0:r.data)==null?void 0:e.message)||((s=(m=y==null?void 0:y.response)==null?void 0:m.data)==null?void 0:s.error)||"送出申請失敗，請稍後再試",snackbarProps:{color:"red-lighten-1"}})}finally{le.value=!1}},ye=()=>{var e;(e=de.value)==null||e.reset(),ue.value=!1,t.productType="",N.value=[],$.value=null,Object.keys(t).filter(m=>m!=="productType").forEach(m=>{delete t[m]}),t.printingTypes&&delete t.printingTypes,t.infoBookletCover&&delete t.infoBookletCover,t.banner&&delete t.banner,t.coachSign&&delete t.coachSign,t.otherNote&&delete t.otherNote},Ke=r=>{t[r]||(t[r]=[]);const e=N.value.find(s=>s.name===r);if(!e)return;const m={};e.arrayFields.forEach(s=>{s.type==="number"?m[s.name]=0:s.type==="checkbox"?m[s.name]=!1:m[s.name]=""}),t[r].push(m)},De=(r,e)=>{t[r]&&t[r].length>e&&t[r].length>2&&t[r].splice(e,1)},Ce=r=>({pending:"orange-darken-2",in_progress:"blue-darken-1",completed:"green-darken-1",cancelled:"red-lighten-1"})[r]||"grey",qe=r=>({pending:"待處理",in_progress:"處理中",completed:"已完成",cancelled:"已取消"})[r]||r,Se=r=>({text:"mdi-text",textarea:"mdi-text-long",date:"mdi-calendar",number:"mdi-numeric",file:"mdi-file-document",checkbox:"mdi-checkbox-marked",array:"mdi-view-list",select:"mdi-form-select"})[r]||"mdi-form-textbox",et=async()=>{var r,e,m;try{const{data:s}=await H.get("/users/public/all");if(s.success){const y=Array.isArray((r=s.result)==null?void 0:r.data)?s.result.data.slice():[];y.sort((l,b)=>String((l==null?void 0:l.userId)??"").localeCompare(String((b==null?void 0:b.userId)??""))),Ve.value=y}}catch(s){console.error("取得用戶列表失敗:",s),B({text:((m=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:m.message)||"取得用戶列表失敗",snackbarProps:{color:"red-lighten-1"}})}},tt=async()=>{var r,e,m;try{const{data:s}=await H.get("/permissions/users-by-role",{params:{permission:"MARKETING_DESIGN_REQUEST_DESIGNER_TAG"}});if(s.success){const y=Array.isArray((r=s.result)==null?void 0:r.data)?s.result.data:[];pe.value=y.map(l=>({_id:l._id,name:l.name,userId:l.userId})).sort((l,b)=>String((l==null?void 0:l.userId)??"").localeCompare(String((b==null?void 0:b.userId)??"")));return}throw new Error("載入處理人員失敗")}catch(s){pe.value=[],console.error("取得行銷美編部用戶列表失敗:",s),B({text:((m=(e=s==null?void 0:s.response)==null?void 0:e.data)==null?void 0:m.message)||"無法載入處理人員清單",snackbarProps:{color:"red-lighten-1"}})}},ne=r=>new Date(r).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}),Ee=r=>{if(!r)return"";try{const e=new Date(r);return isNaN(e.getTime())?"":e.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(e){return console.error("Error formatting time:",e),""}},ze=(r,e)=>{if(r==="printing")return e&&e.printingTypes?Re(e.printingTypes):t&&t.printingTypes?Re(t.printingTypes):"【印刷相關】";const m=X.value.find(s=>s.value===r);return m?m.label:r},$e=(r,e)=>{const m=e.toLowerCase();return(r.raw&&r.raw.name&&r.raw.userId?`${r.raw.name} ${r.raw.userId}`.toLowerCase():r.raw&&r.raw.name?r.raw.name.toLowerCase():"").includes(m)},lt=ot.debounce(()=>{A.page=1,G()},300);Ae(ae,r=>{r!==void 0&&(me.value=!0,lt())});const Pe=r=>{if(!r)return"";const e=r.split("/");return e[e.length-1]},Ie=r=>r?k.show&&k.isEdit?r.replace(/^\*\s*/,""):r:"",oe=(r,e=15)=>r.length<=e?r:`${r.substring(0,e)}...`,Me=r=>{if(!r)return"請上傳檔案";const e=r.replace(/^\*\s*/,"");return e==="上傳檔案"?"請上傳檔案":e.includes("圖片")?"請上傳圖片":e.includes("上傳")?`請${e}`:`請上傳${e}`},z=(r,e)=>e.split(".").reduce((m,s)=>m&&m[s]!==void 0?m[s]:void 0,r),K=(r,e,m)=>{const s=e.split("."),y=s.pop(),l=s.reduce((b,d)=>(b[d]||(b[d]={}),b[d]),r);l[y]=m};pt(async()=>{try{L.value=!0,await Promise.all([Je(),We(),et(),tt()]),console.log("開始載入表格資料..."),L.value=!1,await G(),console.log("表格資料載入完成")}catch(r){console.error("初始化失敗:",r),B({text:"初始化失敗",snackbarProps:{color:"red-lighten-1"}})}finally{L.value=!1}}),mt(()=>{});const Re=r=>{if(!r)return"";const e={infoBookletCover:"說資封面",banner:"布條",coachSign:"車頭牌",other:"其他"},m=Object.entries(r).filter(([,s])=>s).map(([s])=>e[s]).filter(Boolean);return m.length>0?`【印刷相關】- ${m.join("、")}`:"【印刷相關】"};return(r,e)=>{const m=gt("v-date-input");return i(),V(it,{"max-width":"2400"},{default:n(()=>[a(C,{class:"pt-md-6 px-0 px-md-4"},{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(q,{class:"elevation-4 rounded-lg pt-6 py-md-7 px-0"},{default:n(()=>[u("div",ft,[e[21]||(e[21]=u("h3",null," 行銷美編需求申請 ",-1)),a(F)]),a(j,{class:"mt-5 mb-1 mb-sm-3"}),a(O,{class:"pt-4 px-6 ps-sm-8 pe-sm-7 px-md-9 pb-2"},{default:n(()=>[a(C,{class:"mb-2"},{default:n(()=>[a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",vt,[e[22]||(e[22]=u("span",{class:"text-label"},"申請日期 :",-1)),a(m,{modelValue:w.applicationDate,"onUpdate:modelValue":e[0]||(e[0]=s=>w.applicationDate=s),variant:"outlined",density:"compact","prepend-icon":"","hide-details":"",clearable:"",multiple:"range","cancel-text":"取消","ok-text":"確認",disabled:!1},null,8,["modelValue"])])]),_:1}),a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",xt,[e[23]||(e[23]=u("span",{class:"text-label"},"申請人 :",-1)),a(Ne,{modelValue:w.applicant,"onUpdate:modelValue":e[1]||(e[1]=s=>w.applicant=s),items:Ve.value,"item-title":s=>s&&s.name&&s.userId?`${s.name} (${s.userId})`:s&&s.name?s.name:"","item-value":"_id",variant:"outlined",density:"compact",clearable:"",placeholder:"請選擇申請人","hide-details":"",filter:$e,disabled:!1},null,8,["modelValue","items","item-title"])])]),_:1}),a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",kt,[e[24]||(e[24]=u("span",{class:"text-label"},"申請類型 (大) :",-1)),a(Q,{modelValue:w.productCategory,"onUpdate:modelValue":[e[2]||(e[2]=s=>w.productCategory=s),Ye],items:he.value,"item-title":"label","item-value":"value",variant:"outlined",density:"compact",clearable:"",placeholder:"請選擇大分類","hide-details":"",disabled:!1},null,8,["modelValue","items"])])]),_:1}),a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",ht,[e[25]||(e[25]=u("span",{class:"text-label"},"申請類型 :",-1)),a(Q,{modelValue:w.productType,"onUpdate:modelValue":e[3]||(e[3]=s=>w.productType=s),items:He.value,"item-title":"label","item-value":"value",variant:"outlined",density:"compact",clearable:"",placeholder:"請選擇申請類型","hide-details":"",disabled:!1},null,8,["modelValue","items"])])]),_:1}),a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",_t,[e[26]||(e[26]=u("span",{class:"text-label"},"狀態 :",-1)),a(Q,{modelValue:w.status,"onUpdate:modelValue":e[4]||(e[4]=s=>w.status=s),items:[{value:"pending",text:"待處理"},{value:"in_progress",text:"處理中"},{value:"completed",text:"已完成"},{value:"cancelled",text:"已取消"}],"item-title":"text","item-value":"value",variant:"outlined",density:"compact",clearable:"",placeholder:"請選擇狀態","hide-details":"",disabled:!1},null,8,["modelValue"])])]),_:1}),a(g,{cols:"12",sm:"6",md:"4",lg:"2",class:"px-1 pe-sm-2 py-1"},{default:n(()=>[u("div",Vt,[e[27]||(e[27]=u("span",{class:"text-label"},"處理人員 :",-1)),a(Ne,{modelValue:w.assignedDesigner,"onUpdate:modelValue":e[5]||(e[5]=s=>w.assignedDesigner=s),items:pe.value,"item-title":s=>s&&s.name&&s.userId?`${s.name} (${s.userId})`:s&&s.name?s.name:"","item-value":"_id",variant:"outlined",density:"compact",clearable:"",placeholder:"請選擇處理人員","hide-details":"",filter:$e,disabled:!1},null,8,["modelValue","items","item-title"])])]),_:1}),a(g,{lg:"10",class:"d-none d-md-block"}),a(g,{cols:"12",md:"8",lg:"2"},{default:n(()=>[a(C,{class:"d-sm-flex justify-sm-end"},{default:n(()=>[a(g,{cols:"8",sm:"4",lg:"8",class:"ps-1 pe-0"},{default:n(()=>[a(I,{color:"cyan-darken-2","prepend-icon":"mdi-magnify",loading:L.value,disabled:!1,block:"",onClick:G},{default:n(()=>e[28]||(e[28]=[x(" 搜尋 ")])),_:1},8,["loading"])]),_:1}),a(g,{cols:"4",sm:"2",lg:"4",class:"pe-2"},{default:n(()=>[a(I,{color:"grey",width:"40",block:"",disabled:!1,onClick:Ge},{default:n(()=>[a(T,null,{default:n(()=>e[29]||(e[29]=[x("mdi-refresh")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(j,{class:"my-0"}),a(C,{class:"px-1 px-sm-3 px-md-7 mt-1 bg-white"},{default:n(()=>[a(g,{cols:"12",class:"ps-4 pb-sm-4"},{default:n(()=>[a(C,{class:"d-flex align-center px-5 px-md-2"},{default:n(()=>[a(I,{color:"teal-darken-2","prepend-icon":"mdi-plus",variant:"outlined",disabled:!1,onClick:e[6]||(e[6]=s=>Ue())},{default:n(()=>e[30]||(e[30]=[x(" 新增申請 ")])),_:1}),a(F),a(g,{cols:"7",sm:"6",md:"5",lg:"3",xl:"2",class:"pe-1 my-1"},{default:n(()=>[u("div",wt,[S(R)?yt((i(),V(T,{key:0,icon:"mdi-information",size:"small",color:"blue-grey-darken-2",class:"me-2"},null,512)),[[ct,"可搜尋申請編號、申請詳細資訊","start"]]):U("",!0),a(P,{modelValue:ae.value,"onUpdate:modelValue":e[7]||(e[7]=s=>ae.value=s),loading:me.value,density:"compact",variant:"outlined",label:"快速搜尋","append-inner-icon":"mdi-magnify","hide-details":"",clearable:"",disabled:!1},null,8,["modelValue","loading"])])]),_:1})]),_:1})]),_:1})]),_:1}),a(O,{class:"px-sm-6 px-md-7"},{default:n(()=>[a(dt,{"items-per-page":A.itemsPerPage,"onUpdate:itemsPerPage":e[8]||(e[8]=s=>A.itemsPerPage=s),page:A.page,"onUpdate:page":e[9]||(e[9]=s=>A.page=s),"sort-by":A.sortBy,"onUpdate:sortBy":e[10]||(e[10]=s=>A.sortBy=s),headers:Oe.value,items:xe.value,"items-length":ke.value,loading:L.value,"items-per-page-options":[10,20,50,100],hover:"",density:"compact",class:"rounded-ts-lg rounded-te-lg","onUpdate:options":Qe},{item:n(({item:s,index:y})=>{var l,b,d;return[u("tr",{class:bt({"odd-row":y%2===0,"even-row":y%2!==0})},[S(te)?(i(),p("td",Tt,v(s.designRequestNumber),1)):U("",!0),u("td",null,[s.applicationDate?(i(),p("div",Ut,[u("div",null,v(ne(s.applicationDate)),1),u("div",Dt,[a(T,{size:"14",style:{"padding-bottom":"2px"}},{default:n(()=>e[31]||(e[31]=[x(" mdi-clock-outline ")])),_:1}),x(" "+v(Ee(s.applicationDate)),1)])])):U("",!0)]),u("td",null,v((l=s.applicant)==null?void 0:l.name)+" ("+v(((b=s.applicant)==null?void 0:b.userId)||"N/A")+")",1),S(R)?(i(),p("td",Ct,v(ze(s.productType,s)),1)):U("",!0),S(R)?(i(),p("td",qt,[a(J,{color:Ce(s.status),size:"small",label:"",class:"font-weight-medium"},{default:n(()=>[x(v(qe(s.status)),1)]),_:2},1032,["color"])])):U("",!0),S(te)?(i(),p("td",St,[(d=s.assignedDesigner)!=null&&d.name?(i(),V(J,{key:0,color:"blue-darken-1",size:"small",label:"",class:"font-weight-medium"},{default:n(()=>[x(v(s.assignedDesigner.name),1)]),_:2},1024)):(i(),V(J,{key:1,color:"grey",size:"small",label:"",class:"font-weight-medium"},{default:n(()=>e[32]||(e[32]=[x(" 尚未指派 ")])),_:1}))])):U("",!0),S(te)?(i(),p("td",Et,[s.departmentNote?(i(),p("div",zt,[u("div",{class:"department-note-text",innerHTML:we(s.departmentNote)},null,8,$t)])):(i(),p("div",Pt,e[33]||(e[33]=[u("span",{class:"text-grey-lighten-1"},"( 無 )",-1)])))])):U("",!0),u("td",It,[a(I,{icon:"",variant:"text",size:"small",color:"light-blue-darken-2",onClick:c=>Ue(s)},{default:n(()=>[a(T,null,{default:n(()=>e[34]||(e[34]=[x("mdi-book-open-variant-outline")])),_:1})]),_:2},1032,["onClick"])])],2)]}),_:1},8,["items-per-page","page","sort-by","headers","items","items-length","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ve,{modelValue:k.show,"onUpdate:modelValue":e[11]||(e[11]=s=>k.show=s),"max-width":"1200"},{default:n(()=>[a(q,{class:"rounded-lg dialog"},{default:n(()=>[a(be,{class:"d-flex align-center px-6 py-2 bg-light-blue-darken-2"},{default:n(()=>[a(T,{icon:"mdi-text-box-outline",size:S(R)?"20":"18",color:"white",class:"me-2"},null,8,["size"]),e[36]||(e[36]=u("span",{class:"card-title text-white"},"申請單詳細資訊",-1)),a(F),a(I,{icon:"",variant:"plain",class:"opacity-100",ripple:!1,color:"white",size:S(R)?"36":"32",onClick:se},{default:n(()=>[a(T,{size:S(R)?"22":"18"},{default:n(()=>e[35]||(e[35]=[x(" mdi-close ")])),_:1},8,["size"])]),_:1},8,["size"])]),_:1}),a(O,{class:"px-6 py-4"},{default:n(()=>[a(C,null,{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[u("div",Mt,[a(T,{icon:"mdi-package-variant",size:"18",color:"primary",class:"me-2"}),e[37]||(e[37]=u("span",{class:"text-primary card-title"},"基本資訊",-1))]),a(C,null,{default:n(()=>[a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",Rt,[a(T,{icon:"mdi-identifier",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[38]||(e[38]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"申請編號",-1))]),u("div",Nt,v(t.designRequestNumber||"( 無 )"),1)]),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",Bt,[a(T,{icon:"mdi-shape",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[39]||(e[39]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"申請類型",-1))]),u("div",At,v(ze(t.productType)),1)]),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",jt,[a(T,{icon:"mdi-calendar-clock",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[40]||(e[40]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"申請日期",-1))]),u("div",Ot,[x(v(ne(t.applicationDate))+" ",1),u("span",Ht,v(Ee(t.applicationDate)),1)])]),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>{var s;return[u("div",Lt,[a(T,{icon:"mdi-account-circle",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[41]||(e[41]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"申請人",-1))]),u("div",Ft,v((s=t.applicant)!=null&&s.name?`${t.applicant.name} (${t.applicant.userId||"N/A"})`:"( 無 )"),1)]}),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",Gt,[a(T,{icon:"mdi-progress-check",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[42]||(e[42]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"狀態",-1))]),u("div",Qt,[a(J,{color:Ce(t.status),size:"small",label:"",class:"font-weight-medium elevation-0"},{default:n(()=>[x(v(qe(t.status)),1)]),_:1},8,["color"])])]),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>{var s;return[u("div",Jt,[a(T,{icon:"mdi-account-edit",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[43]||(e[43]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"處理人員",-1))]),u("div",Wt,v(((s=t.assignedDesigner)==null?void 0:s.name)||"尚未指派"),1)]}),_:1})]),_:1}),a(g,{cols:"12",sm:"6",md:"4"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",Yt,[a(T,{icon:"mdi-note-text",size:"16",color:"blue-grey-darken-1",class:"me-2"}),e[44]||(e[44]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"部門備註",-1))]),u("div",Zt,[t.departmentNote?(i(),p("span",{key:0,style:{"white-space":"pre-line"},innerHTML:we(t.departmentNote)},null,8,Xt)):(i(),p("span",Kt,"( 無 )"))])]),_:1})]),_:1})]),_:1})]),_:1}),a(g,{cols:"12"},{default:n(()=>[u("div",el,[a(T,{icon:"mdi-form-textbox",size:"18",color:"primary",class:"me-2"}),e[45]||(e[45]=u("span",{class:"text-primary card-title"},"申請資訊",-1))]),t.productType==="printing"?(i(),p(_,{key:0},[t.files&&t.files.length>0?(i(),V(C,{key:0},{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",tl,[a(T,{size:"16",color:"blue-grey-darken-1",class:"me-2"},{default:n(()=>e[46]||(e[46]=[x(" mdi-file-document ")])),_:1}),e[47]||(e[47]=u("span",{class:"sub-card-title font-weight-bold text-blue-grey-darken-1"},"上傳檔案",-1))]),u("div",ll,[(i(!0),p(_,null,E(t.files,(s,y)=>(i(),p("div",{key:y,class:"d-flex align-center mb-1"},[a(T,{size:"small",class:"me-2"},{default:n(()=>e[48]||(e[48]=[x(" mdi-file ")])),_:1}),u("span",al,v(oe(Pe(s),20)),1)]))),128))])]),_:1})]),_:1})]),_:1})):U("",!0),a(C,null,{default:n(()=>{var s;return[(i(!0),p(_,null,E((s=$.value)==null?void 0:s.sections,(y,l)=>{var b;return i(),p(_,{key:l},[(b=t.printingTypes)!=null&&b[l]?(i(),V(g,{key:0,cols:"12"},{default:n(()=>[a(q,{class:"mb-4 printing-section-card elevation-0"},{default:n(()=>[u("div",sl,[u("span",nl,"※ "+v(y.title),1)]),a(j,{class:"mb-0"}),a(O,{class:"pt-4 pb-4 px-5"},{default:n(()=>[a(C,null,{default:n(()=>[(i(!0),p(_,null,E(y.fields,d=>{var c,o,h;return i(),V(g,{key:d.name,cols:((c=d.cols)==null?void 0:c.xs)||12,sm:((o=d.cols)==null?void 0:o.sm)||6,lg:((h=d.cols)==null?void 0:h.lg)||4},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",ol,[a(T,{icon:Se(d.type),size:"16",color:"blue-grey-darken-1",class:"me-2"},null,8,["icon"]),u("span",rl,v(Ie(d.label)),1)]),u("div",il,[d.type==="text"?(i(),p(_,{key:0},[z(t,d.name)?(i(),p("span",dl,v(z(t,d.name)),1)):(i(),p("span",ul,"( 無 )"))],64)):d.type==="textarea"?(i(),p(_,{key:1},[z(t,d.name)?(i(),p("span",cl,v(z(t,d.name)),1)):(i(),p("span",pl,"( 無 )"))],64)):d.type==="date"?(i(),p(_,{key:2},[x(v(z(t,d.name)?ne(z(t,d.name)):"( 無 )"),1)],64)):d.type==="number"?(i(),p(_,{key:3},[x(v(z(t,d.name)!==null&&z(t,d.name)!==void 0&&z(t,d.name)!==""?z(t,d.name):"( 無 )"),1)],64)):d.type==="select"?(i(),p(_,{key:4},[x(v(typeof z(t,d.name)=="boolean"?z(t,d.name)?"是":"否":"( 無 )"),1)],64)):U("",!0)])]),_:2},1024)]),_:2},1032,["cols","sm","lg"])}),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):U("",!0)],64)}),128))]}),_:1})],64)):(i(),V(C,{key:1},{default:n(()=>[(i(!0),p(_,null,E(_e.value,s=>{var y,l,b;return i(),V(g,{key:s.name,cols:((y=s.cols)==null?void 0:y.xs)||12,sm:((l=s.cols)==null?void 0:l.sm)||6,lg:((b=s.cols)==null?void 0:b.lg)||4},{default:n(()=>[a(q,{class:"info-item-card pa-3",variant:"outlined"},{default:n(()=>[u("div",ml,[a(T,{icon:Se(s.type),size:"16",color:"blue-grey-darken-1",class:"me-2"},null,8,["icon"]),u("span",gl,v(Ie(s.label)),1)]),u("div",yl,[s.type==="text"?(i(),p(_,{key:0},[t[s.name]?(i(),p("span",bl,v(t[s.name]),1)):(i(),p("span",fl,"( 無 )"))],64)):s.type==="textarea"?(i(),p(_,{key:1},[t[s.name]?(i(),p("span",vl,v(t[s.name]),1)):(i(),p("span",xl,"( 無 )"))],64)):s.type==="date"?(i(),p(_,{key:2},[x(v(t[s.name]?ne(t[s.name]):"( 無 )"),1)],64)):s.type==="number"?(i(),p(_,{key:3},[x(v(t[s.name]!==null&&t[s.name]!==void 0&&t[s.name]!==""?t[s.name]:"( 無 )"),1)],64)):s.type==="checkbox"?(i(),p(_,{key:4},[a(T,{color:t[s.name]?"success":"grey"},{default:n(()=>[x(v(t[s.name]?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"]),x(" "+v(t[s.name]?"是":"否"),1)],64)):s.type==="select"?(i(),p(_,{key:5},[x(v(typeof t[s.name]=="boolean"?t[s.name]?"是":"否":"( 無 )"),1)],64)):s.type==="file"?(i(),p(_,{key:6},[t[s.name]&&t[s.name].length>0?(i(!0),p(_,{key:0},E(t[s.name],(d,c)=>(i(),p("div",{key:c,class:"d-flex align-center mb-1"},[a(T,{size:"small",class:"me-2"},{default:n(()=>e[49]||(e[49]=[x(" mdi-file ")])),_:1}),u("span",kl,v(oe(Pe(d),20)),1)]))),128)):(i(),p("span",hl,"( 無 )"))],64)):s.type==="array"?(i(),p("div",_l,[!t[s.name]||t[s.name].length===0?(i(),p("div",Vl,[a(T,{icon:"mdi-map-marker-off",size:"48",color:"grey-lighten-1",class:"mb-3"}),e[50]||(e[50]=u("div",{class:"text-grey-lighten-1"}," 尚未新增任何行程 ",-1))])):(i(),V(C,{key:1},{default:n(()=>[(i(!0),p(_,null,E(t[s.name],(d,c)=>(i(),V(g,{key:c,cols:"12",md:"6",class:"mb-1"},{default:n(()=>[u("div",wl,[u("div",Tl,[u("span",Ul,"行程 "+v(c+1),1),!k.isEdit&&t[s.name].length>2?(i(),V(I,{key:0,icon:"mdi-close",color:"red-darken-1",size:"small",variant:"plain",ripple:!1,onClick:o=>De(s.name,c)},null,8,["onClick"])):U("",!0)]),a(C,{class:"pb-2"},{default:n(()=>[a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[s.name][c].groupName,"onUpdate:modelValue":o=>t[s.name][c].groupName=o,label:"* 團體名稱",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[o=>!!o||"請輸入團體名稱"],clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[s.name][c].departureDate,"onUpdate:modelValue":o=>t[s.name][c].departureDate=o,label:"出發日期",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[s.name][c].agentPrice,"onUpdate:modelValue":o=>t[s.name][c].agentPrice=o,modelModifiers:{number:!0},label:"* 同業價 ( 若無該價格，請填 0 )",type:"number",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[o=>o!==""&&o!==null&&o!==void 0||"請輸入同業價",o=>o>=0||"同業價不能小於0"],clearable:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[s.name][c].retailPrice,"onUpdate:modelValue":o=>t[s.name][c].retailPrice=o,modelModifiers:{number:!0},label:"* 直客價 ( 若無該價格，請填 0 )",type:"number",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[o=>o!==""&&o!==null&&o!==void 0||"請輸入直客價",o=>o>=0||"直客價不能小於0"],clearable:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",class:"pb-0"},{default:n(()=>[a(re,{modelValue:t[s.name][c].tripHighlights,"onUpdate:modelValue":o=>t[s.name][c].tripHighlights=o,label:"行程特色",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,"auto-grow":"",rows:"3",clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024))])):U("",!0)])]),_:2},1024)]),_:2},1032,["cols","sm","lg"])}),128))]),_:1}))]),_:1})]),_:1})]),_:1}),a(fe,{class:"px-6 pb-5 pt-2"},{default:n(()=>[a(F),a(I,{variant:"outlined",color:"grey",size:S(R)?"default":"small",onClick:se},{default:n(()=>e[51]||(e[51]=[x(" 關閉 ")])),_:1},8,["size"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ve,{modelValue:Y.show,"onUpdate:modelValue":e[18]||(e[18]=s=>Y.show=s),"max-width":"1200",persistent:""},{default:n(()=>[a(q,{class:"rounded-lg add-dialog"},{default:n(()=>[a(be,{class:"d-flex align-center px-6 py-2 bg-teal-darken-2"},{default:n(()=>[a(T,{icon:"mdi-text-box-outline",size:S(R)?"20":"18",color:"white",class:"me-2"},null,8,["size"]),e[53]||(e[53]=u("span",{class:"card-title text-white"},"新增申請單",-1)),a(F),a(I,{icon:"",variant:"plain",class:"opacity-100",ripple:!1,color:"white",size:S(R)?"36":"32",onClick:se},{default:n(()=>[a(T,{size:S(R)?"22":"18"},{default:n(()=>e[52]||(e[52]=[x(" mdi-close ")])),_:1},8,["size"])]),_:1},8,["size"])]),_:1}),a(O,{class:"px-4 px-sm-6 py-4 py-sm-7"},{default:n(()=>[a(ut,{ref_key:"form",ref:de,modelValue:ue.value,"onUpdate:modelValue":e[17]||(e[17]=s=>ue.value=s)},{default:n(()=>[a(C,null,{default:n(()=>[a(g,{cols:"12",class:"sub-title text-blue-grey-darken-2 d-flex align-center justify-center"},{default:n(()=>[a(C,null,{default:n(()=>[a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"teal-darken-2"})]),_:1}),a(g,{cols:"6",sm:"4",md:"2",class:"d-flex align-center justify-center text-teal-darken-2"},{default:n(()=>[a(T,{size:"18",class:"me-2 text-teal-darken-2"},{default:n(()=>e[54]||(e[54]=[x(" mdi-package-variant ")])),_:1}),e[55]||(e[55]=x(" 基本資訊 "))]),_:1}),a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"teal-darken-2"})]),_:1})]),_:1})]),_:1}),a(g,{cols:"12",sm:"6",lg:"4"},{default:n(()=>[a(Q,{modelValue:t.productType,"onUpdate:modelValue":[e[12]||(e[12]=s=>t.productType=s),Te],items:X.value,"item-title":"label","item-value":"value",label:"* 申請類型",variant:"outlined",density:"compact",readonly:k.isEdit,rules:[s=>!!s||"請選擇申請類型"]},null,8,["modelValue","items","readonly","rules"])]),_:1})]),_:1}),t.productType?(i(),V(C,{key:0},{default:n(()=>{var s,y;return[a(g,{cols:"12",class:"sub-title text-blue-grey-darken-2 d-flex align-center justify-center"},{default:n(()=>[a(C,null,{default:n(()=>[a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"teal-darken-2"})]),_:1}),a(g,{cols:"6",sm:"4",md:"2",class:"d-flex align-center justify-center text-teal-darken-2"},{default:n(()=>[a(T,{size:"18",class:"me-2 text-teal-darken-2"},{default:n(()=>e[56]||(e[56]=[x(" mdi-form-textbox ")])),_:1}),e[57]||(e[57]=x(" 申請資訊 "))]),_:1}),a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"teal-darken-2"})]),_:1})]),_:1})]),_:1}),t.productType==="printing"?(i(),p(_,{key:0},[a(g,{cols:"12",class:"pb-0"},{default:n(()=>[a(q,{class:"mb-4 printing-checkbox-card elevation-0"},{default:n(()=>[a(O,{class:"py-4"},{default:n(()=>[u("div",Dl,[a(T,{icon:"mdi-checkbox-multiple-marked-outline",size:"20",class:"me-2"}),e[58]||(e[58]=x(" 請選擇需要的印刷類型 "))]),a(C,null,{default:n(()=>{var l;return[(i(!0),p(_,null,E((l=$.value)==null?void 0:l.subTypes,b=>(i(),V(g,{key:b.name,cols:"6",md:"3",class:"py-0 py-sm-2"},{default:n(()=>[a(ie,{modelValue:t.printingTypes[b.name],"onUpdate:modelValue":d=>t.printingTypes[b.name]=d,label:b.label,color:"teal-darken-2","hide-details":"",density:"compact",class:"printing-checkbox"},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1})]),_:1}),(s=$.value)!=null&&s.requiredFiles&&Le.value&&!ce.value?(i(),V(g,{key:0,cols:"12",class:"mb-4"},{default:n(()=>[a(q,{class:"pa-4 elevation-0 upload-file-card"},{default:n(()=>[e[59]||(e[59]=u("div",{class:"d-flex align-center mb-4"},[u("span",{class:"sub-title font-weight-bold text-light-blue-darken-3"},"※ 共同欄位: 上傳檔案")],-1)),(i(!0),p(_,null,E($.value.requiredFiles,l=>(i(),V(Be,{key:l.name,modelValue:t[l.name],"onUpdate:modelValue":b=>t[l.name]=b,label:l.label,variant:"outlined",density:"compact",multiple:l.multiple,accept:l.accept,readonly:k.isEdit,rules:[b=>b&&b.length>0||"請上傳檔案 ( LOGO AI 檔、行程 Word 檔 )",b=>!b||b.length<=5||"最多只能上傳 5 個檔案"],counter:"","prepend-icon":"mdi-paperclip",chips:""},{selection:n(({fileNames:b})=>[u("div",Cl,[(i(!0),p(_,null,E(b,(d,c)=>(i(),p(_,{key:d},[c<2?(i(),V(J,{key:0,color:"teal-darken-1",size:"small",label:"",class:"mb-1"},{default:n(()=>[x(v(oe(d,15)),1)]),_:2},1024)):U("",!0),c===2?(i(),p("span",ql," +"+v(b.length-2)+" 個檔案 ",1)):U("",!0)],64))),128))])]),_:2},1032,["modelValue","onUpdate:modelValue","label","multiple","accept","readonly","rules"]))),128))]),_:1})]),_:1})):U("",!0),(i(!0),p(_,null,E((y=$.value)==null?void 0:y.sections,(l,b)=>{var d;return i(),p(_,{key:b},[(d=t.printingTypes)!=null&&d[b]?(i(),V(g,{key:0,cols:"12"},{default:n(()=>[a(q,{class:"mb-4 printing-section-card elevation-0"},{default:n(()=>[u("div",Sl,[u("span",El,"※ "+v(l.title),1)]),a(j,{class:"mb-0"}),a(O,{class:"pt-4 pb-4 px-5"},{default:n(()=>[a(C,null,{default:n(()=>[(i(!0),p(_,null,E(l.fields,c=>{var o,h,f;return i(),V(g,{key:c.name,cols:((o=c.cols)==null?void 0:o.xs)||12,sm:((h=c.cols)==null?void 0:h.sm)||6,lg:((f=c.cols)==null?void 0:f.lg)||4},{default:n(()=>[c.type==="text"?(i(),V(P,{key:0,"model-value":z(t,c.name),label:c.label,variant:"outlined",density:"compact",readonly:k.isEdit,rules:c.required?[D=>!!D||`請輸入${c.label.replace("* ","")}`]:[],"onUpdate:modelValue":D=>K(t,c.name,D)},null,8,["model-value","label","readonly","rules","onUpdate:modelValue"])):c.type==="textarea"?(i(),V(re,{key:1,"model-value":z(t,c.name),label:c.label,variant:"outlined",density:"compact",readonly:k.isEdit,rules:c.required?[D=>!!D||`請輸入${c.label.replace("* ","")}`]:[],"auto-grow":"",rows:"5","onUpdate:modelValue":D=>K(t,c.name,D)},null,8,["model-value","label","readonly","rules","onUpdate:modelValue"])):c.type==="date"?(i(),V(m,{key:2,"model-value":z(t,c.name),label:c.label,variant:"outlined",density:"compact","prepend-icon":"",clearable:"",disabled:k.isEdit,rules:c.required?[D=>!!D||`請選擇${c.label.replace("* ","")}`]:[],"cancel-text":"取消","ok-text":"確認","onUpdate:modelValue":D=>K(t,c.name,D)},null,8,["model-value","label","disabled","rules","onUpdate:modelValue"])):c.type==="number"?(i(),V(P,{key:3,"model-value":z(t,c.name),label:c.label,type:"number",variant:"outlined",density:"compact",readonly:k.isEdit,rules:[...c.required?[D=>D!==""&&D!==null&&D!==void 0||`請輸入${c.label.replace("* ","")}`]:[],D=>D>=c.min||`${c.label.replace("* ","")}不能小於${c.min}`],"onUpdate:modelValue":D=>K(t,c.name,D)},null,8,["model-value","label","readonly","rules","onUpdate:modelValue"])):c.type==="select"?(i(),V(Q,{key:4,"model-value":z(t,c.name),items:c.items,"item-title":"title","item-value":"value",label:c.label,variant:"outlined",density:"compact",readonly:k.isEdit,rules:c.required?[D=>D!=null||`請選擇${c.label.replace("* ","")}`]:[],"onUpdate:modelValue":D=>K(t,c.name,D)},null,8,["model-value","items","label","readonly","rules","onUpdate:modelValue"])):U("",!0)]),_:2},1032,["cols","sm","lg"])}),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):U("",!0)],64)}),128))],64)):N.value.length>0?(i(!0),p(_,{key:1},E(_e.value,l=>{var b,d,c;return i(),V(g,{key:l.name,cols:((b=l.cols)==null?void 0:b.xs)||12,sm:((d=l.cols)==null?void 0:d.sm)||6,lg:((c=l.cols)==null?void 0:c.lg)||4},{default:n(()=>[l.name==="airlineHighlightNote"?(i(),p(_,{key:0},[a(ie,{modelValue:t.needAirlineHighlight,"onUpdate:modelValue":e[13]||(e[13]=o=>t.needAirlineHighlight=o),label:"是否需要強調航空公司",readonly:k.isEdit,density:"compact",color:"primary","hide-details":"",class:"mb-1"},null,8,["modelValue","readonly"]),a(P,{modelValue:t.airlineHighlightNote,"onUpdate:modelValue":e[14]||(e[14]=o=>t.airlineHighlightNote=o),label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,disabled:!t.needAirlineHighlight,rules:t.needAirlineHighlight?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:[]},null,8,["modelValue","label","readonly","disabled","rules"]),l.illustrations&&l.illustrations.length?(i(),p("div",zl,[(i(!0),p(_,null,E(l.illustrations,(o,h)=>(i(),p("img",{key:o,src:S(ge)+o.replace(/^\//,""),alt:l.label+" 示意圖"+(h+1),style:{"max-width":"550px","min-width":"280px","border-radius":"8px","flex-shrink":"0"}},null,8,$l))),128))])):U("",!0)],64)):l.name==="useLogo"?(i(),p(_,{key:1},[a(ie,{modelValue:t.needUseLogo,"onUpdate:modelValue":e[15]||(e[15]=o=>t.needUseLogo=o),label:"是否需要放以下LOGO?",readonly:k.isEdit,density:"compact",color:"primary","hide-details":"",class:"mb-1"},null,8,["modelValue","readonly"]),a(P,{modelValue:t.useLogo,"onUpdate:modelValue":e[16]||(e[16]=o=>t.useLogo=o),label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,disabled:!t.needUseLogo,rules:t.needUseLogo?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:[]},null,8,["modelValue","label","readonly","disabled","rules"]),l.illustrations&&l.illustrations.length?(i(),p("div",Pl,[(i(!0),p(_,null,E(l.illustrations,(o,h)=>(i(),p("img",{key:o,src:S(ge)+o.replace(/^\//,""),alt:l.label+" 示意圖"+(h+1),style:{"max-width":"550px","min-width":"280px","border-radius":"8px","flex-shrink":"0"}},null,8,Il))),128))])):U("",!0)],64)):(i(),p(_,{key:2},[l.illustrations&&l.illustrations.length?(i(),p("div",Ml,[l.type==="text"?(i(),V(P,{key:0,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,disabled:l.name==="quickTemplateNumber"&&t.useQuickTemplate!==!0,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:l.required?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:[]},null,8,["modelValue","onUpdate:modelValue","label","readonly","disabled","rules"])):U("",!0),u("div",Rl,[(i(!0),p(_,null,E(l.illustrations,(o,h)=>(i(),p("img",{key:o,src:S(ge)+o.replace(/^\//,""),alt:l.label+" 示意圖"+(h+1),style:{"max-width":"550px","border-radius":"8px"}},null,8,Nl))),128))])])):l.type==="text"?(i(),p("div",Bl,[a(P,{modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,disabled:l.name==="quickTemplateNumber"&&t.useQuickTemplate!==!0,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:l.required?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:[]},null,8,["modelValue","onUpdate:modelValue","label","readonly","disabled","rules"])])):l.type==="textarea"?(i(),V(re,{key:2,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:l.required?[o=>!!o||`請輸入${l.label.replace("* ","")}`]:[],"auto-grow":"",rows:"5"},null,8,["modelValue","onUpdate:modelValue","label","readonly","rules"])):l.type==="date"?(i(),V(m,{key:3,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,variant:"outlined",density:"compact","prepend-icon":"",clearable:"",disabled:k.isEdit,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>!!o||`請選擇${l.label.replace("* ","")}`]:l.required?[o=>!!o||`請選擇${l.label.replace("* ","")}`]:[],"cancel-text":"取消","ok-text":"確認"},null,8,["modelValue","onUpdate:modelValue","label","disabled","rules"])):l.type==="number"?(i(),V(P,{key:4,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,modelModifiers:{number:!0},label:l.label,type:"number",variant:"outlined",density:"compact",readonly:k.isEdit,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>o!==""&&o!==null&&o!==void 0||`請輸入${l.label.replace("* ","")}`,o=>o>=l.min||`${l.label.replace("* ","")}不能小於${l.min}`]:l.required?[o=>o!==""&&o!==null&&o!==void 0||`請輸入${l.label.replace("* ","")}`,o=>o>=l.min||`${l.label.replace("* ","")}不能小於${l.min}`]:[]},null,8,["modelValue","onUpdate:modelValue","label","readonly","rules"])):l.type==="file"?(i(),V(Be,{key:5,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,variant:"outlined",density:"compact",multiple:l.multiple,accept:l.accept,readonly:k.isEdit,rules:[...l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>o&&o.length>0||Me(l.label)]:l.required?[o=>o&&o.length>0||Me(l.label)]:[],o=>!o||o.length<=5||"最多只能上傳 5 個檔案"],counter:"","prepend-icon":"mdi-paperclip",chips:""},{selection:n(({fileNames:o})=>[u("div",Al,[(i(!0),p(_,null,E(o,(h,f)=>(i(),p(_,{key:h},[f<2?(i(),V(J,{key:0,color:"teal-darken-1",size:"small",label:"",class:"mb-1"},{default:n(()=>[x(v(oe(h,15)),1)]),_:2},1024)):U("",!0),f===2?(i(),p("span",jl," +"+v(o.length-2)+" 個檔案 ",1)):U("",!0)],64))),128))])]),_:2},1032,["modelValue","onUpdate:modelValue","label","multiple","accept","readonly","rules"])):l.type==="select"?(i(),p("div",Ol,[a(Q,{modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,items:l.items,"item-title":"title","item-value":"value",label:l.label,variant:"outlined",density:"compact",readonly:k.isEdit,rules:l.conditionalRequired&&t[l.conditionalRequired.field]===l.conditionalRequired.value?[o=>o!=null||`請選擇${l.label.replace("* ","")}`]:l.required?[o=>o!=null||`請選擇${l.label.replace("* ","")}`]:[]},null,8,["modelValue","onUpdate:modelValue","items","label","readonly","rules"]),l.link?(i(),V(I,{key:0,href:l.link.url,target:"_blank",rel:"noopener noreferrer",color:"blue-darken-1",variant:"text",size:"small",class:"mt-1","prepend-icon":"mdi-open-in-new"},{default:n(()=>[x(v(l.link.text),1)]),_:2},1032,["href"])):U("",!0)])):l.type==="array"?(i(),p("div",Hl,[u("div",Ll,[u("div",Fl,[a(T,{icon:"mdi-map-marker-multiple",size:"20",color:"grey-darken-1",class:"me-2"}),u("span",Gl,v(l.label),1),l.required&&(!t[l.name]||t[l.name].length===0)?(i(),p("div",Ql,[a(T,{icon:"mdi-alert-circle-outline",size:"small",class:"me-1"}),e[60]||(e[60]=x(" 請至少新增一筆行程 "))])):U("",!0)]),a(I,{color:"teal-darken-2",variant:"outlined",size:"small","prepend-icon":"mdi-plus",disabled:k.isEdit,onClick:o=>Ke(l.name)},{default:n(()=>e[61]||(e[61]=[x(" 新增行程 ")])),_:2},1032,["disabled","onClick"])]),!t[l.name]||t[l.name].length===0?(i(),p("div",Jl,[a(T,{icon:"mdi-map-marker-off",size:"48",color:"grey-lighten-1",class:"mb-3"}),e[62]||(e[62]=u("div",{class:"text-grey-lighten-1"}," 尚未新增任何行程 ",-1))])):(i(),V(C,{key:1},{default:n(()=>[(i(!0),p(_,null,E(t[l.name],(o,h)=>(i(),V(g,{key:h,cols:"12",md:"6",class:"mb-1"},{default:n(()=>[u("div",Wl,[u("div",Yl,[u("span",Zl,"行程 "+v(h+1),1),!k.isEdit&&t[l.name].length>2?(i(),V(I,{key:0,icon:"mdi-close",color:"red-darken-1",size:"small",variant:"plain",ripple:!1,onClick:f=>De(l.name,h)},null,8,["onClick"])):U("",!0)]),a(C,{class:"pb-2"},{default:n(()=>[a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[l.name][h].groupName,"onUpdate:modelValue":f=>t[l.name][h].groupName=f,label:"* 團體名稱",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[f=>!!f||"請輸入團體名稱"],clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[l.name][h].departureDate,"onUpdate:modelValue":f=>t[l.name][h].departureDate=f,label:"出發日期",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[l.name][h].agentPrice,"onUpdate:modelValue":f=>t[l.name][h].agentPrice=f,modelModifiers:{number:!0},label:"* 同業價 ( 若無該價格，請填 0 )",type:"number",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[f=>f!==""&&f!==null&&f!==void 0||"請輸入同業價",f=>f>=0||"同業價不能小於0"],clearable:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",lg:"6",class:"pb-0"},{default:n(()=>[a(P,{modelValue:t[l.name][h].retailPrice,"onUpdate:modelValue":f=>t[l.name][h].retailPrice=f,modelModifiers:{number:!0},label:"* 直客價 ( 若無該價格，請填 0 )",type:"number",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,rules:[f=>f!==""&&f!==null&&f!==void 0||"請輸入直客價",f=>f>=0||"直客價不能小於0"],clearable:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["modelValue","onUpdate:modelValue","readonly","rules"])]),_:2},1024),a(g,{cols:"12",class:"pb-0"},{default:n(()=>[a(re,{modelValue:t[l.name][h].tripHighlights,"onUpdate:modelValue":f=>t[l.name][h].tripHighlights=f,label:"行程特色",variant:"outlined",density:"compact",class:"mb-1",readonly:k.isEdit,"auto-grow":"",rows:"3",clearable:""},null,8,["modelValue","onUpdate:modelValue","readonly"])]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024))])):l.type==="checkbox"&&l.name!=="needAirlineHighlight"&&l.name!=="needUseLogo"?(i(),V(ie,{key:8,modelValue:t[l.name],"onUpdate:modelValue":o=>t[l.name]=o,label:l.label,readonly:k.isEdit,density:"compact",color:"primary","hide-details":""},null,8,["modelValue","onUpdate:modelValue","label","readonly"])):U("",!0)],64))]),_:2},1032,["cols","sm","lg"])}),128)):U("",!0)]}),_:1})):U("",!0),$.value&&$.value.notices&&$.value.notices.length>0?(i(),p("div",Xl,[a(C,null,{default:n(()=>[a(g,{cols:"12",class:"sub-title text-blue-grey-darken-2 d-flex align-center justify-center"},{default:n(()=>[a(C,null,{default:n(()=>[a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"orange-darken-2"})]),_:1}),a(g,{cols:"6",sm:"4",md:"2",class:"d-flex align-center justify-center text-orange-darken-2"},{default:n(()=>[a(T,{size:"18",class:"me-2 text-orange-darken-2"},{default:n(()=>e[63]||(e[63]=[x(" mdi-alert-circle ")])),_:1}),e[64]||(e[64]=x(" 注意事項 "))]),_:1}),a(g,{cols:"3",sm:"4",md:"5",class:"d-flex align-center justify-center"},{default:n(()=>[a(j,{class:"border-opacity-25",color:"orange-darken-2"})]),_:1})]),_:1})]),_:1})]),_:1}),a(q,{class:"mt-4",variant:"outlined",color:"orange-lighten-4"},{default:n(()=>[a(O,{class:"py-4"},{default:n(()=>[(i(!0),p(_,null,E($.value.notices,(s,y)=>(i(),p("div",{key:y,class:"d-flex align-center mb-2"},[a(T,{icon:"mdi-alert-octagon-outline",size:"small",color:"orange-darken-2",class:"me-2"}),u("span",Kl,v(s),1)]))),128))]),_:1})]),_:1})])):U("",!0)]),_:1},8,["modelValue"])]),_:1}),a(fe,{class:"px-6 pb-5 pt-0"},{default:n(()=>[a(F),a(I,{variant:"outlined",color:"grey-darken-1",size:S(R)?"default":"small",onClick:se},{default:n(()=>e[65]||(e[65]=[x(" 取消 ")])),_:1},8,["size"]),a(I,{color:"teal-darken-1",variant:"outlined",class:"ms-2",size:S(R)?"default":"small",loading:le.value,onClick:Ze},{default:n(()=>e[66]||(e[66]=[x(" 送出申請 ")])),_:1},8,["size","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ve,{modelValue:Z.show,"onUpdate:modelValue":e[20]||(e[20]=s=>Z.show=s),"max-width":"500",persistent:""},{default:n(()=>[a(q,{class:"rounded-lg pb-4"},{default:n(()=>[a(be,{class:"d-flex align-center px-6 py-4 bg-teal-darken-2"},{default:n(()=>[a(T,{icon:"mdi-check-circle",size:"20",color:"white",class:"me-3"}),e[67]||(e[67]=u("span",{class:"card-title text-white"},"確認送出申請",-1))]),_:1}),a(O,{class:"px-6 pt-6 pb-0"},{default:n(()=>[u("div",ea,[e[71]||(e[71]=u("p",{class:"sub-title mb-4"}," 您是否確定要送出此申請單？ ",-1)),u("div",ta,[u("div",la,[a(T,{icon:"mdi-information",size:"20",color:"teal-darken-2",class:"me-2"}),e[68]||(e[68]=u("span",{class:"text-teal-darken-2 font-weight-bold"},"重要提醒",-1))]),e[69]||(e[69]=u("p",{class:"text-body-2 text-grey-darken-1 mb-0"}," 送出後將無法修改申請內容，請確認所有填寫的資料都正確無誤。 ",-1)),e[70]||(e[70]=u("p",{class:"text-body-2 text-grey-darken-1 mb-0 mt-2"}," 若之後申請內容有需更改，請通知行銷美編部，謝謝。 ",-1))])])]),_:1}),a(fe,{class:"px-6 py-4"},{default:n(()=>[a(F),a(I,{variant:"outlined",color:"grey-darken-1",onClick:e[19]||(e[19]=s=>Z.show=!1)},{default:n(()=>e[72]||(e[72]=[x(" 返回修改 ")])),_:1}),a(I,{color:"teal-darken-2",class:"ms-2",variant:"outlined",loading:le.value,onClick:Xe},{default:n(()=>e[73]||(e[73]=[x(" 確認送出 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ta=at(aa,[["__scopeId","data-v-7eea7c54"]]);export{Ta as default};

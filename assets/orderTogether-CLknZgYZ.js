import{_ as Me,u as Ne,b as Se,U as Ee}from"./index-ZcDhEpUM.js";import{i as ze}from"./vuetify-use-dialog-C5oZ13xz.js";import{Q as Le,w as b,a as y,c as _,g as m,v as U,P as Be,r as j,D as ae,H as Fe,x as le,F as L,y as te,L as G,a7 as A,a8 as M,a2 as Oe,A as J,p as Y,J as oe,a3 as He,a4 as Qe,ag as Ge,d as N,V as S,M as Je,N as Ye,e as se,f as ne,a1 as Ze,S as Ke,Y as We,ah as Xe,ai as ea,aj as aa,ak as la,al as ta,O as oa,E as sa}from"./vuetify-CbddcmEc.js";import{f as B,r as v,k as na,aV as d,Z as f,bH as t,a8 as a,a0 as s,a7 as n,_ as F,$ as g,b0 as w,bf as i,F as k}from"./@vue-Cr_z6yfx.js";/* empty css             */import"./pinia-DBRIaiZ_.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./vue-router-CS4OewbW.js";import"./jspdf-DacfHTdZ.js";import"./core-js-D2hAHviU.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./unplugin-vue-router-B1N3mqWX.js";import"./axios-upsvKRUO.js";import"./vue3-google-login-Dx7TV_Hx.js";import"./vue-easy-lightbox-D952uME8.js";import"./perfect-debounce-Cp2ysxOb.js";import"./hookable-B8xFkYCm.js";const da={class:"d-flex align-center"},ia={class:"text-body-2 me-2"},ra={class:"d-flex justify-space-between align-center mb-4"},ua={class:"text-h6 font-weight-bold text-deep-orange-darken-2"},ca={class:"d-flex justify-space-between align-center mb-6"},ma={class:"text-h5 font-weight-bold text-grey-darken-3"},pa={class:"d-flex justify-space-between align-center mb-2"},fa={class:"text-h6 font-weight-bold text-grey-darken-2"},va={class:"text-subtitle-1 font-weight-medium text-deep-orange-darken-2"},ga={class:"text-body-2 text-grey-darken-1"},ba={class:"d-flex justify-space-between align-center mb-4"},ka={class:"text-h5 font-weight-bold text-grey-darken-2"},ya={class:"text-h6 font-weight-medium text-deep-orange-darken-2"},_a={class:"text-body-1 text-grey-darken-1 mb-6"},xa={class:"text-subtitle-1 font-weight-medium text-grey-darken-2 mb-2"},ha={class:"d-flex align-center justify-space-between"},Va={class:"d-flex align-center"},wa={class:"mx-4 text-h6"},Ca={class:"ms-2"},$a={class:"d-flex justify-space-between align-center mb-2"},Ia={class:"text-h6 font-weight-bold text-grey-darken-2"},Ua={class:"text-body-2 text-grey-darken-1 mb-4"},Ta={class:"d-flex align-center text-grey-darken-1 mb-2"},ja={class:"text-body-2"},Pa={class:"d-flex align-center text-grey-darken-1"},Ra={class:"text-body-2"},qa={class:"d-flex align-center"},Da={__name:"orderTogether",setup(Aa){const{apiAuth:P}=Se(),x=ze(),de=Ne(),ie=B(()=>de.role===Ee.ADMIN),O=v(!1),H=v([]),C=v(null),Z=B(()=>{const o=H.value.find(l=>l._id===C.value);return(o==null?void 0:o.name)||""}),Q=v([]),$=v(null),E=v([]),re=B(()=>$.value?E.value.filter(o=>o.category===$.value):E.value),I=v([]),ue=B(()=>I.value.reduce((o,l)=>o+l.price*l.quantity,0)),r=v({show:!1,item:null,quantity:1,options:{},note:""}),T=v({show:!1,currentImage:0}),K=v([]),ce=[{_id:"1",name:"好味餐廳",description:"提供美味的中式料理，平價實惠",phone:"02-2345-6789",address:"台北市中山區中山北路一段1號",image:"https://picsum.photos/500/300?random=1",active:!0},{_id:"2",name:"樂活素食",description:"健康蔬食料理，讓您吃得健康又美味",phone:"02-3456-7890",address:"台北市大安區信義路二段2號",image:"https://picsum.photos/500/300?random=2",active:!0},{_id:"3",name:"日式食堂",description:"道地日本料理，彷彿置身日本",phone:"02-4567-8901",address:"台北市松山區南京東路三段3號",image:"https://picsum.photos/500/300?random=3",active:!1}],R=[{_id:"1",name:"主食"},{_id:"2",name:"飲料"},{_id:"3",name:"小菜"},{_id:"4",name:"湯品"}],me=[{_id:"1",name:"炒飯",category:"主食",price:80,description:"香噴噴的炒飯",image:"https://picsum.photos/500/300?random=4",active:!0},{_id:"2",name:"滷肉飯",category:"主食",price:60,description:"傳統美味",image:"https://picsum.photos/500/300?random=5",active:!0},{_id:"3",name:"紅茶",category:"飲料",price:30,description:"清香解膩",image:"https://picsum.photos/500/300?random=6",active:!0}],z=v({show:!1}),c=v({show:!1,id:null,form:{name:"",description:"",phone:"",address:"",image:null,active:!0}}),q=v({show:!1,restaurant:null}),D=v(""),pe=[{title:"圖片",key:"image",sortable:!1},{title:"名稱",key:"name",sortable:!0},{title:"分類",key:"category",sortable:!0},{title:"價格",key:"price",sortable:!0},{title:"描述",key:"description",sortable:!1},{title:"狀態",key:"active",sortable:!0},{title:"操作",key:"actions",sortable:!1,align:"end"}],fe=async()=>{var o,l;O.value=!0;try{const{data:e}=await P.get("/restaurants");e.success&&(H.value=e.result)}catch(e){console.error("載入餐廳列表失敗:",e),x({text:((l=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:l.message)||"載入餐廳列表失敗",snackbarProps:{color:"error"}})}finally{O.value=!1}},ve=async o=>{var l,e;if(!o){Q.value=[],E.value=[],$.value=null;return}try{const[u,h]=await Promise.all([P.get(`/restaurants/${o}/categories`),P.get(`/restaurants/${o}/items`)]);u.data.success&&(Q.value=u.data.result),h.data.success&&(E.value=h.data.result)}catch(u){console.error("載入餐廳資料失敗:",u),x({text:((e=(l=u==null?void 0:u.response)==null?void 0:l.data)==null?void 0:e.message)||"載入餐廳資料失敗",snackbarProps:{color:"error"}})}},ge=o=>({主食:"mdi-rice",飲料:"mdi-cup",小菜:"mdi-food-variant",湯品:"mdi-bowl-mix",甜點:"mdi-cake-variant",其他:"mdi-food"})[o]||"mdi-food",be=o=>{r.value={show:!0,item:o,quantity:1,options:{},note:""},o.customizations&&o.customizations.forEach(l=>{var e;l.type==="single"?r.value.options[l.name]=(e=l.options[0])==null?void 0:e.value:r.value.options[l.name]=[]})},ke=()=>{const{item:o,quantity:l,options:e,note:u}=r.value;I.value.push({_id:o._id,name:o.name,price:o.price,quantity:l,options:e,note:u}),r.value.show=!1,x({text:"已加入購物車",snackbarProps:{color:"success"}})},ye=o=>{o.quantity++},_e=o=>{if(o.quantity>1)o.quantity--;else{const l=I.value.findIndex(e=>e._id===o._id);l>-1&&I.value.splice(l,1)}},xe=o=>Object.entries(o).map(([l,e])=>Array.isArray(e)?`${l}: ${e.join(", ")}`:`${l}: ${e}`).join(" | "),he=async()=>{var o,l;try{const e={restaurantId:C.value,items:I.value.map(h=>({itemId:h._id,quantity:h.quantity,options:h.options,note:h.note}))},{data:u}=await P.post("/orders",e);u.success&&(I.value=[],x({text:"訂單已送出",snackbarProps:{color:"success"}}))}catch(e){console.error("送出訂單失敗:",e),x({text:((l=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:l.message)||"送出訂單失敗",snackbarProps:{color:"error"}})}},Ve=async()=>{var o,l;try{const{data:e}=await P.get(`/restaurants/${C.value}/menu-images`);e.success&&(K.value=e.result,T.value.show=!0)}catch(e){console.error("載入菜單圖片失敗:",e),x({text:((l=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:l.message)||"載入菜單圖片失敗",snackbarProps:{color:"error"}})}},we=()=>{z.value.show=!0},Ce=()=>{c.value={show:!0,id:null,form:{name:"",description:"",phone:"",address:"",image:null,active:!0}}},$e=o=>{c.value={show:!0,id:o._id,form:{name:o.name,description:o.description,phone:o.phone,address:o.address,image:null,active:o.active}}},Ie=()=>{console.log("儲存餐廳資料:",c.value.form),c.value.show=!1,x({text:c.value.id?"餐廳資料已更新":"餐廳已新增",snackbarProps:{color:"success"}})},Ue=o=>{q.value={show:!0,restaurant:o}},Te=()=>{D.value&&(R.push({_id:String(R.length+1),name:D.value}),D.value="")},je=o=>{const l=R.findIndex(e=>e._id===o._id);l>-1&&R.splice(l,1)},Pe=()=>{x({text:"此功能開發中",snackbarProps:{color:"info"}})},Re=o=>{console.log("編輯餐點:",o),x({text:"此功能開發中",snackbarProps:{color:"info"}})},qe=o=>{console.log("刪除餐點:",o),x({text:"此功能開發中",snackbarProps:{color:"info"}})};return na(async()=>{await fe()}),(o,l)=>(d(),f(Le,{fluid:""},{default:t(()=>[a(U,null,{default:t(()=>[a(b,{cols:"12"},{default:t(()=>[a(y,{class:"mb-4 rounded-lg",color:"deep-orange-lighten-5",elevation:"2"},{default:t(()=>[a(_,{class:"d-flex align-center justify-space-between py-6"},{default:t(()=>[l[23]||(l[23]=s("div",null,[s("h2",{class:"text-h4 font-weight-bold text-deep-orange-darken-2"}," 訂餐趣 "),s("p",{class:"text-subtitle-1 text-grey-darken-1 mt-1"}," 今天想吃什麼？讓我們一起訂餐吧！ ")],-1)),ie.value?(d(),f(m,{key:0,color:"deep-orange-darken-1","prepend-icon":"mdi-store-cog",variant:"flat",onClick:we},{default:t(()=>l[22]||(l[22]=[n(" 餐廳管理 ")])),_:1})):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),a(U,null,{default:t(()=>[a(b,{cols:"12",md:"3"},{default:t(()=>[a(y,{class:"rounded-lg",elevation:"2"},{default:t(()=>[a(_,{class:"pa-4"},{default:t(()=>[a(Be,{modelValue:C.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>C.value=e),ve],items:H.value,label:"選擇餐廳","item-title":"name","item-value":"_id",variant:"outlined",density:"comfortable",color:"deep-orange-darken-2",class:"mb-4",loading:O.value,clearable:""},{prepend:t(()=>[a(j,{color:"deep-orange-darken-2"},{default:t(()=>l[24]||(l[24]=[n(" mdi-store ")])),_:1})]),_:1},8,["modelValue","items","loading"]),C.value?(d(),f(ae,{key:0,density:"comfortable",nav:"",class:"rounded-lg categories-list"},{default:t(()=>[a(Fe,{class:"text-grey-darken-2"},{default:t(()=>l[25]||(l[25]=[n(" 餐點分類 ")])),_:1}),(d(!0),g(k,null,w(Q.value,e=>(d(),f(le,{key:e._id,value:e._id,active:$.value===e._id,"active-color":"deep-orange-darken-2",rounded:"lg",class:"mb-1",onClick:u=>$.value=e._id},{prepend:t(()=>[a(j,{icon:ge(e.name),color:$.value===e._id?"white":"deep-orange-darken-2"},null,8,["icon","color"])]),append:t(()=>[a(L,{size:"small",color:$.value===e._id?"white":"deep-orange-lighten-4","text-color":$.value===e._id?"deep-orange-darken-2":"deep-orange-darken-3"},{default:t(()=>[n(i(e.itemCount),1)]),_:2},1032,["color","text-color"])]),default:t(()=>[a(te,null,{default:t(()=>[n(i(e.name),1)]),_:2},1024)]),_:2},1032,["value","active","onClick"]))),128))]),_:1})):(d(),f(G,{key:1,type:"info",variant:"tonal",class:"mt-4"},{default:t(()=>l[26]||(l[26]=[n(" 請先選擇餐廳 ")])),_:1}))]),_:1})]),_:1}),a(y,{class:"mt-4 rounded-lg",elevation:"2"},{default:t(()=>[a(A,{color:"deep-orange-lighten-1",density:"comfortable"},{default:t(()=>[a(M,{class:"text-white font-weight-medium"},{default:t(()=>[a(j,{icon:"mdi-cart",class:"me-2"}),l[27]||(l[27]=n(" 購物車 "))]),_:1})]),_:1}),a(_,{class:"pa-4"},{default:t(()=>[I.value.length>0?(d(),g(k,{key:0},[a(ae,{class:"cart-list"},{default:t(()=>[(d(!0),g(k,null,w(I.value,e=>(d(),f(le,{key:e._id,class:"mb-2 rounded-lg"},{prepend:t(()=>[a(m,{icon:"mdi-minus",variant:"text",size:"small",color:"deep-orange-darken-2",onClick:u=>_e(e)},null,8,["onClick"])]),append:t(()=>[s("div",da,[s("span",ia," × "+i(e.quantity),1),a(m,{icon:"mdi-plus",variant:"text",size:"small",color:"deep-orange-darken-2",onClick:u=>ye(e)},null,8,["onClick"])])]),default:t(()=>[a(te,{class:"text-body-2"},{default:t(()=>[n(i(e.name),1)]),_:2},1024),e.options?(d(),f(Oe,{key:0,class:"text-caption text-grey-darken-1"},{default:t(()=>[n(i(xe(e.options)),1)]),_:2},1024)):F("",!0)]),_:2},1024))),128))]),_:1}),a(J,{class:"my-3"}),s("div",ra,[l[28]||(l[28]=s("span",{class:"text-subtitle-1 font-weight-medium"},"總計金額",-1)),s("span",ua," NT$ "+i(ue.value),1)]),a(m,{color:"deep-orange-darken-2",block:"",onClick:he},{default:t(()=>l[29]||(l[29]=[n(" 確認訂單 ")])),_:1})],64)):(d(),f(G,{key:1,type:"info",variant:"tonal",class:"mb-0"},{default:t(()=>l[30]||(l[30]=[n(" 購物車是空的 ")])),_:1}))]),_:1})]),_:1})]),_:1}),a(b,{cols:"12",md:"9"},{default:t(()=>[a(y,{class:"rounded-lg",elevation:"2","min-height":"700"},{default:t(()=>[a(_,{class:"pa-6"},{default:t(()=>[C.value?(d(),g(k,{key:0},[s("div",ca,[s("h3",ma,i(Z.value),1),C.value?(d(),f(m,{key:0,color:"deep-orange-lighten-1",variant:"text","prepend-icon":"mdi-image-multiple",onClick:Ve},{default:t(()=>l[31]||(l[31]=[n(" 查看菜單圖片 ")])),_:1})):F("",!0)]),a(U,null,{default:t(()=>[(d(!0),g(k,null,w(re.value,e=>(d(),f(b,{key:e._id,cols:"12",sm:"6",lg:"4"},{default:t(()=>[a(y,{class:"rounded-lg food-item-card",elevation:"1",onClick:u=>be(e)},{default:t(()=>[a(Y,{src:e.image||"/images/default-food.jpg",height:"200",cover:"",class:"rounded-t-lg"},{placeholder:t(()=>[a(U,{class:"fill-height ma-0",align:"center",justify:"center"},{default:t(()=>[a(oe,{indeterminate:"",color:"deep-orange-lighten-3"})]),_:1})]),_:2},1032,["src"]),a(_,{class:"pa-4"},{default:t(()=>[s("div",pa,[s("h3",fa,i(e.name),1),s("span",va," NT$ "+i(e.price),1)]),s("p",ga,i(e.description||"暫無描述"),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})],64)):(d(),f(G,{key:1,type:"info",variant:"tonal",icon:"mdi-information"},{default:t(()=>l[32]||(l[32]=[n(" 請先選擇餐廳來查看餐點 ")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),a(S,{modelValue:r.value.show,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value.show=e),"max-width":"500"},{default:t(()=>[a(y,{class:"rounded-lg"},{default:t(()=>{var e;return[a(Y,{src:((e=r.value.item)==null?void 0:e.image)||"/images/default-food.jpg",height:"250",cover:"",class:"rounded-t-lg"},null,8,["src"]),a(_,{class:"pa-6"},{default:t(()=>{var u,h,W,X,ee;return[s("div",ba,[s("h3",ka,i((u=r.value.item)==null?void 0:u.name),1),s("span",ya," NT$ "+i((h=r.value.item)==null?void 0:h.price),1)]),s("p",_a,i(((W=r.value.item)==null?void 0:W.description)||"暫無描述"),1),(ee=(X=r.value.item)==null?void 0:X.customizations)!=null&&ee.length?(d(),g(k,{key:0},[a(J,{class:"mb-4"}),(d(!0),g(k,null,w(r.value.item.customizations,(p,De)=>(d(),g("div",{key:De,class:"mb-4"},[s("h4",xa,i(p.name),1),p.type==="single"?(d(),f(He,{key:0,modelValue:r.value.options[p.name],"onUpdate:modelValue":V=>r.value.options[p.name]=V,density:"comfortable",color:"deep-orange-darken-2"},{default:t(()=>[(d(!0),g(k,null,w(p.options,V=>(d(),f(Qe,{key:V.value,label:V.label,value:V.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(d(!0),g(k,{key:1},w(p.options,V=>(d(),f(Ge,{key:V.value,modelValue:r.value.options[p.name],"onUpdate:modelValue":Ae=>r.value.options[p.name]=Ae,label:V.label,value:V.value,density:"comfortable",color:"deep-orange-darken-2"},null,8,["modelValue","onUpdate:modelValue","label","value"]))),128))]))),128))],64)):F("",!0),a(N,{modelValue:r.value.note,"onUpdate:modelValue":l[1]||(l[1]=p=>r.value.note=p),label:"備註",variant:"outlined",density:"comfortable",color:"deep-orange-darken-2","hide-details":"",class:"mb-4"},null,8,["modelValue"]),s("div",ha,[s("div",Va,[a(m,{icon:"mdi-minus",variant:"outlined",color:"deep-orange-darken-2",size:"small",disabled:r.value.quantity<=1,onClick:l[2]||(l[2]=p=>r.value.quantity--)},null,8,["disabled"]),s("span",wa,i(r.value.quantity),1),a(m,{icon:"mdi-plus",variant:"outlined",color:"deep-orange-darken-2",size:"small",onClick:l[3]||(l[3]=p=>r.value.quantity++)})]),a(m,{color:"deep-orange-darken-2",size:"large",onClick:ke},{default:t(()=>{var p;return[l[33]||(l[33]=n(" 加入購物車 ")),s("span",Ca," NT$ "+i((((p=r.value.item)==null?void 0:p.price)||0)*r.value.quantity),1)]}),_:1})])]}),_:1})]}),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:T.value.show,"onUpdate:modelValue":l[7]||(l[7]=e=>T.value.show=e),"max-width":"800"},{default:t(()=>[a(y,{class:"rounded-lg"},{default:t(()=>[a(A,{color:"deep-orange-lighten-1",density:"comfortable"},{append:t(()=>[a(m,{icon:"mdi-close",variant:"text",onClick:l[5]||(l[5]=e=>T.value.show=!1)})]),default:t(()=>[a(M,{class:"text-white"},{default:t(()=>[n(i(Z.value)+" - 菜單 ",1)]),_:1})]),_:1}),a(_,{class:"pa-4"},{default:t(()=>[a(Je,{modelValue:T.value.currentImage,"onUpdate:modelValue":l[6]||(l[6]=e=>T.value.currentImage=e),"show-arrows":"hover",height:"500"},{default:t(()=>[(d(!0),g(k,null,w(K.value,(e,u)=>(d(),f(Ye,{key:u,src:e,cover:""},null,8,["src"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:z.value.show,"onUpdate:modelValue":l[9]||(l[9]=e=>z.value.show=e),"max-width":"1000",scrollable:""},{default:t(()=>[a(y,{class:"rounded-lg"},{default:t(()=>[a(A,{color:"deep-orange-lighten-1",density:"comfortable"},{append:t(()=>[a(m,{icon:"mdi-plus",variant:"text",class:"me-2",onClick:Ce}),a(m,{icon:"mdi-close",variant:"text",onClick:l[8]||(l[8]=e=>z.value.show=!1)})]),default:t(()=>[a(M,{class:"text-white font-weight-medium"},{default:t(()=>l[34]||(l[34]=[n(" 餐廳管理 ")])),_:1})]),_:1}),a(_,{class:"pa-4"},{default:t(()=>[a(U,null,{default:t(()=>[(d(),g(k,null,w(ce,e=>a(b,{key:e._id,cols:"12",sm:"6",lg:"4"},{default:t(()=>[a(y,{class:"rounded-lg restaurant-card",elevation:"1"},{default:t(()=>[a(Y,{src:e.image||"/images/default-restaurant.jpg",height:"200",cover:"",class:"rounded-t-lg"},{placeholder:t(()=>[a(U,{class:"fill-height ma-0",align:"center",justify:"center"},{default:t(()=>[a(oe,{indeterminate:"",color:"deep-orange-lighten-3"})]),_:1})]),_:2},1032,["src"]),a(_,{class:"pa-4"},{default:t(()=>[s("div",$a,[s("h3",Ia,i(e.name),1),a(L,{color:e.active?"success":"grey",size:"small"},{default:t(()=>[n(i(e.active?"營業中":"已關閉"),1)]),_:2},1032,["color"])]),s("p",Ua,i(e.description),1),s("div",Ta,[a(j,{size:"small",class:"me-2"},{default:t(()=>l[35]||(l[35]=[n(" mdi-phone ")])),_:1}),s("span",ja,i(e.phone),1)]),s("div",Pa,[a(j,{size:"small",class:"me-2"},{default:t(()=>l[36]||(l[36]=[n(" mdi-map-marker ")])),_:1}),s("span",Ra,i(e.address),1)])]),_:2},1024),a(J),a(se,{class:"pa-4"},{default:t(()=>[a(ne),a(m,{color:"deep-orange",variant:"text","prepend-icon":"mdi-food",class:"me-2",onClick:u=>Ue(e)},{default:t(()=>l[37]||(l[37]=[n(" 餐點管理 ")])),_:2},1032,["onClick"]),a(m,{color:"blue-grey",variant:"text","prepend-icon":"mdi-pencil",onClick:u=>$e(e)},{default:t(()=>l[38]||(l[38]=[n(" 編輯 ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:c.value.show,"onUpdate:modelValue":l[18]||(l[18]=e=>c.value.show=e),"max-width":"600",persistent:""},{default:t(()=>[a(y,{class:"rounded-lg"},{default:t(()=>[a(A,{color:"deep-orange-lighten-1",density:"comfortable"},{append:t(()=>[a(m,{icon:"mdi-close",variant:"text",onClick:l[10]||(l[10]=e=>c.value.show=!1)})]),default:t(()=>[a(M,{class:"text-white font-weight-medium"},{default:t(()=>[n(i(c.value.id?"編輯餐廳":"新增餐廳"),1)]),_:1})]),_:1}),a(_,{class:"pa-6"},{default:t(()=>[a(U,null,{default:t(()=>[a(b,{cols:"12"},{default:t(()=>[a(N,{modelValue:c.value.form.name,"onUpdate:modelValue":l[11]||(l[11]=e=>c.value.form.name=e),label:"餐廳名稱",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12"},{default:t(()=>[a(Ze,{modelValue:c.value.form.description,"onUpdate:modelValue":l[12]||(l[12]=e=>c.value.form.description=e),label:"餐廳描述",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4",rows:"3"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"6"},{default:t(()=>[a(N,{modelValue:c.value.form.phone,"onUpdate:modelValue":l[13]||(l[13]=e=>c.value.form.phone=e),label:"聯絡電話",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12",sm:"6"},{default:t(()=>[a(Ke,{modelValue:c.value.form.active,"onUpdate:modelValue":l[14]||(l[14]=e=>c.value.form.active=e),label:"是否營業",color:"success","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12"},{default:t(()=>[a(N,{modelValue:c.value.form.address,"onUpdate:modelValue":l[15]||(l[15]=e=>c.value.form.address=e),label:"地址",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(b,{cols:"12"},{default:t(()=>[a(We,{modelValue:c.value.form.image,"onUpdate:modelValue":l[16]||(l[16]=e=>c.value.form.image=e),label:"餐廳圖片",variant:"outlined",density:"comfortable","hide-details":"",accept:"image/*","prepend-icon":"mdi-camera",class:"mb-4"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(se,{class:"pa-6 pt-0"},{default:t(()=>[a(ne),a(m,{color:"grey",variant:"outlined",onClick:l[17]||(l[17]=e=>c.value.show=!1)},{default:t(()=>l[39]||(l[39]=[n(" 取消 ")])),_:1}),a(m,{color:"deep-orange-darken-2",class:"ms-2",onClick:Ie},{default:t(()=>[n(i(c.value.id?"儲存":"新增"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:q.value.show,"onUpdate:modelValue":l[21]||(l[21]=e=>q.value.show=e),"max-width":"1200",scrollable:""},{default:t(()=>[a(y,{class:"rounded-lg"},{default:t(()=>[a(A,{color:"deep-orange-lighten-1",density:"comfortable"},{append:t(()=>[a(m,{icon:"mdi-plus",variant:"text",class:"me-2",onClick:Pe}),a(m,{icon:"mdi-close",variant:"text",onClick:l[19]||(l[19]=e=>q.value.show=!1)})]),default:t(()=>[a(M,{class:"text-white font-weight-medium"},{default:t(()=>{var e;return[n(i((e=q.value.restaurant)==null?void 0:e.name)+" - 餐點管理 ",1)]}),_:1})]),_:1}),a(_,{class:"pa-4"},{default:t(()=>[a(Xe,{class:"mb-6"},{default:t(()=>[a(ea,null,{default:t(()=>[a(aa,null,{default:t(()=>[s("div",qa,[a(j,{icon:"mdi-format-list-bulleted-type",class:"me-2"}),l[40]||(l[40]=n(" 分類管理 "))])]),_:1}),a(la,null,{default:t(()=>[a(U,null,{default:t(()=>[a(b,{cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[a(N,{modelValue:D.value,"onUpdate:modelValue":l[20]||(l[20]=e=>D.value=e),label:"新增分類",variant:"outlined",density:"comfortable","hide-details":"",class:"mb-4","append-inner-icon":"mdi-plus","onClick:appendInner":Te},null,8,["modelValue"])]),_:1})]),_:1}),a(ta,null,{default:t(()=>[(d(),g(k,null,w(R,e=>a(L,{key:e._id,closable:"",color:"deep-orange-lighten-1","onClick:close":u=>je(e)},{default:t(()=>[n(i(e.name),1)]),_:2},1032,["onClick:close"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),a(oa,{headers:pe,items:me,hover:""},{image:t(({item:e})=>[a(sa,{image:e.raw.image||"/images/default-food.jpg",size:"40",class:"rounded-lg"},null,8,["image"])]),price:t(({item:e})=>[n(" NT$ "+i(e.raw.price),1)]),active:t(({item:e})=>[a(L,{color:e.raw.active?"success":"grey",size:"small"},{default:t(()=>[n(i(e.raw.active?"販售中":"已下架"),1)]),_:2},1032,["color"])]),actions:t(({item:e})=>[a(m,{icon:"mdi-pencil",variant:"text",size:"small",color:"blue-grey",class:"me-2",onClick:u=>Re(e.raw)},null,8,["onClick"]),a(m,{icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:u=>qe(e.raw)},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},al=Me(Da,[["__scopeId","data-v-265032d8"]]);export{al as default};

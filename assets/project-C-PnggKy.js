import{d as u}from"./pinia-DBRIaiZ_.js";import{r as a}from"./@vue-Cr_z6yfx.js";const p=u("project",()=>{const s=a([]),n=a(!1);return{projects:s,loading:n,setProjects:o=>{s.value=o},updateProject:(o,e)=>{const c=s.value.findIndex(t=>t._id===o);if(c!==-1){const t={...s.value[c]};Object.keys(e).forEach(i=>{i==="favorites"&&Array.isArray(e.favorites)?t.favorites=e.favorites.map(r=>({...r,user:r.user?{_id:r.user._id,name:r.user.name,email:r.user.email}:r.user})):t[i]=e[i]}),Object.prototype.hasOwnProperty.call(e,"status")&&(t.status=e.status),s.value[c]=t}else{const t={_id:o};Object.keys(e).forEach(i=>{i==="favorites"&&Array.isArray(e.favorites)?t.favorites=e.favorites.map(r=>({...r,user:r.user?{_id:r.user._id,name:r.user.name,email:r.user.email}:r.user})):t[i]=e[i]}),Object.prototype.hasOwnProperty.call(e,"status")&&(t.status=e.status),s.value.push(t)}},addProject:o=>{s.value.push(o)},removeProject:o=>{const e=s.value.findIndex(c=>c._id===o);e!==-1&&s.value.splice(e,1)},getProjectById:o=>s.value.find(e=>e._id===o)}});export{p as u};

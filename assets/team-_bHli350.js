import{d as v}from"./pinia-DBRIaiZ_.js";import{r as i}from"./@vue-Cr_z6yfx.js";const x=v("team",()=>{const n=i([]),o=i(!1),u=e=>{n.value=e},d=e=>{n.value.push(e)},f=(e,t)=>{const a=n.value.findIndex(s=>s._id===e);a!==-1?n.value[a]={...n.value[a],...t}:n.value.push({_id:e,...t})},l=e=>{const t=n.value.findIndex(a=>a._id===e);t!==-1&&n.value.splice(t,1)},r=e=>n.value.find(t=>t._id===e),c=e=>n.value.filter(t=>{var a;return(a=t.members)==null?void 0:a.some(s=>s._id===e)}),m=(e,t)=>{const a=r(e);return!a||!a.managers?!1:a.managers.some(s=>s._id===t)};return{teams:n,loading:o,setTeams:u,addTeam:d,updateTeam:f,removeTeam:l,getTeamById:r,getUserTeams:c,isTeamManager:m,isProjectTeamManager:(e,t)=>{if(!e||!e.team||!t)return!1;const a=typeof e.team=="string"?e.team:e.team._id;return a?m(a,t):!1}}});export{x as u};

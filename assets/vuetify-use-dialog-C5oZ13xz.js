import{i as F,a$ as O,ab as A,r as v,k as E,f as D,aV as l,Z as m,bH as c,a8 as d,u,aG as p,aI as f,ao as V,b4 as k,a7 as y,bf as b,$ as q,F as _,_ as T,a5 as $,n as N}from"./@vue-Cr_z6yfx.js";import{u as M,V as U,a as I,b as L,c as z,d as G,e as H,f as R,g as h,h as K,i as W}from"./vuetify-CbddcmEc.js";function x(e){if(e===null||typeof e!="object")return!1;const o=Object.getPrototypeOf(e);return o!==null&&o!==Object.prototype&&Object.getPrototypeOf(o)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function S(e,o,n=".",i){if(!x(o))return S(e,{},n);const t=Object.assign({},o);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const a=e[r];a!=null&&(Array.isArray(a)&&Array.isArray(t[r])?t[r]=[...a,...t[r]]:x(a)&&x(t[r])?t[r]=S(a,t[r],(n?`${n}.`:"")+r.toString()):t[r]=a)}return t}function X(e){return(...o)=>o.reduce((n,i)=>S(n,i,""),{})}const B=X(),Y=A({__name:"ConfirmDialog",props:{title:{type:String,required:!1,default:"Are you sure?"},titleComponent:{type:Object,required:!1},titleComponentProps:{type:Object,required:!1},content:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},contentComponentProps:{type:Object,required:!1},confirmationKeyword:{type:String,required:!1},confirmationKeywordTextFieldProps:{type:Object,required:!1,default:()=>({})},confirmationText:{type:String,required:!1,default:"Ok"},cancellationText:{type:String,required:!1,default:"Cancel"},dialogProps:{type:Object,required:!1,default:()=>({})},cardProps:{type:Object,required:!1,default:()=>({})},cardTitleProps:{type:Object,required:!1,default:()=>({})},cardTextProps:{type:Object,required:!1,default:()=>({})},cardActionsProps:{type:Object,required:!1,default:()=>({})},actionsContentComponent:{type:Object,required:!1},cancellationButtonProps:{type:Object,required:!1,default:()=>({})},confirmationButtonProps:{type:Object,required:!1,default:()=>({})},theme:{type:String,required:!0},resolve:{type:Function,required:!0}},setup(e){const o=e,n=v(!0),i=v(null),t=v("");function r(){o.resolve(!0),n.value=!1}function a(){o.resolve(!1),n.value=!1}E(()=>{var C;(C=i.value)==null||C.focus()});const s=D(()=>o.confirmationKeyword?o.confirmationKeyword!==t.value:!1);function g(C){C||N(()=>{o.resolve(!1)})}return(C,P)=>(l(),m(u(K),{theme:e.theme},{default:c(()=>[d(u(U),p(e.dialogProps,{modelValue:n.value,"onUpdate:modelValue":[P[1]||(P[1]=j=>n.value=j),g]}),{default:c(()=>[d(u(I),f(V(e.cardProps)),{default:c(()=>[e.titleComponent?(l(),m(k(e.titleComponent),f(p({key:0},e.titleComponentProps)),null,16)):(l(),m(L,f(p({key:1},e.cardTitleProps)),{default:c(()=>[y(b(e.title),1)]),_:1},16)),d(u(z),f(V(e.cardTextProps)),{default:c(()=>[e.contentComponent?(l(),m(k(e.contentComponent),f(p({key:0},e.contentComponentProps)),null,16)):(l(),q(_,{key:1},[e.content?(l(),q(_,{key:0},[y(b(e.content),1)],64)):T("",!0),e.confirmationKeyword?(l(),m(G,p({key:1,ref_key:"textFieldInput",ref:i,modelValue:t.value,"onUpdate:modelValue":P[0]||(P[0]=j=>t.value=j)},e.confirmationKeywordTextFieldProps,{variant:"underlined"}),null,16,["modelValue"])):T("",!0)],64))]),_:1},16),d(u(H),f(V(e.cardActionsProps)),{default:c(()=>[e.actionsContentComponent?(l(),m(k(e.actionsContentComponent),{key:0,"confirmation-button-disabled":s.value,cancel:a,confirm:r},null,8,["confirmation-button-disabled"])):(l(),q(_,{key:1},[d(u(R)),d(u(h),p(e.cancellationButtonProps,{onClick:a}),{default:c(()=>[y(b(e.cancellationText),1)]),_:1},16),d(u(h),p({color:"primary",disabled:s.value},e.confirmationButtonProps,{onClick:r}),{default:c(()=>[y(b(e.confirmationText),1)]),_:1},16,["disabled"])],64))]),_:1},16)]),_:1},16)]),_:1},16,["modelValue"])]),_:1},8,["theme"]))}}),Z=A({__name:"Snackbar",props:{text:{type:String,required:!1,default:""},contentComponent:{type:Object,required:!1},snackbarProps:{type:Object,required:!1,default:()=>({})},showCloseButton:{type:Boolean,required:!1,default:!0},closeButtonProps:{type:Object,required:!1,default:()=>({})},closeButtonText:{type:String,required:!1,default:"Close"},theme:{type:String,required:!0}},emits:["close"],setup(e,{emit:o}){const n=e,i=o,t=v(!0),r=D(()=>({...n.snackbarProps,onAfterLeave(){var a,s;(s=(a=n.snackbarProps).onAfterLeave)==null||s.call(a),i("close")}}));return(a,s)=>(l(),m(u(K),{theme:e.theme},{default:c(()=>[d(u(W),p(r.value,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=g=>t.value=g)}),$({default:c(()=>[e.contentComponent?(l(),m(k(e.contentComponent),{key:0})):(l(),q(_,{key:1},[y(b(e.text),1)],64))]),_:2},[e.showCloseButton?{name:"actions",fn:c(()=>[d(u(h),p(e.closeButtonProps,{variant:"text",onClick:s[0]||(s[0]=g=>t.value=!1)}),{default:c(()=>[y(b(e.closeButtonText),1)]),_:1},16)]),key:"0"}:void 0]),1040,["modelValue"])]),_:1},8,["theme"]))}});function w(e,o,n,i){const t=d(e,{...o});return n&&n._context&&(t.appContext=n._context),i?(n._container.appendChild(i),O(t,i)):O(t,n._container.firstElementChild),{vNode:t}}const ee={install(e,o){function n(t){return new Promise(r=>new Promise(a=>{w(Y,{...B(t,(o==null?void 0:o.confirmDialog)??{}),resolve:a},e)}).then(a=>{O(null,e._container.firstElementChild),r(a)}))}function i(t){const r=document.createElement("div");w(Z,{...B(t,(o==null?void 0:o.snackbar)??{}),onClose(){e._container.removeChild(r),O(null,r)}},e,r)}e.provide("ConfirmDialogKey",{mountDialog:n,mountSnackbar:i}),e.config.globalProperties.$confirm=t=>n(t),e.config.globalProperties.$toast=t=>i(t)}};function te(){const e=F("ConfirmDialogKey"),o=M();function n(i){if(!e)throw new Error("Missing dialog instance");return e.mountSnackbar({theme:o.name.value,...i})}return n}export{te as i,ee as o};
